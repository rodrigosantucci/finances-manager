/* Variáveis de tema (garanta que estão definidas globalmente, ex: styles.scss) */

:root {
  --background-card: #fff;
  --background-dialog: #fff;
  --text-primary: #333;
  --text-secondary: #666;
  --text-muted: #999;
  --text-danger: #f44336;
  --border-color: #ccc;
  --primary: #3f51b5;
  --primary-hover: #303f9f;
  --disabled-bg: #e0e0e0;
  --disabled-text: #a0a0a0;
  --success-bg: #4caf50;
  --success-text: #fff;
  --error-bg: #f44336;
  --error-text: #fff;

  // Cores específicas para o stepper
  --stepper-header-bg: transparent;
  --stepper-label-color: var(--text-secondary);
  --stepper-active-color: var(--primary);
  --stepper-done-color: #4caf50; // Verde para passo concluído
}

[data-theme='dark'] { // Ou body.dark se estiver alternando no body
  --background-card: #303030;
  --background-dialog: #424242;
  --text-primary: #fff;
  --text-secondary: #e0e0e0;
  --text-muted: #aaa;
  --text-danger: #ff5252;
  --border-color: #616161;
  --primary: #9fa8da;
  --primary-hover: #7986cb;
  --disabled-bg: #5a5a5a;
  --disabled-text: #888;
  --success-bg: #66bb6a;
  --success-text: #fff;
  --error-bg: #ff5252;
  --error-text: #fff;

  // Cores específicas para o stepper no modo escuro
  --stepper-header-bg: transparent;
  --stepper-label-color: var(--text-secondary);
  --stepper-active-color: var(--primary);
  --stepper-done-color: #81c784; // Verde mais claro para passo concluído no dark mode
}


.dialog-title {
  margin: 0 0 20px; /* Mais espaço */
  font-size: 1.5rem; /* Aumentado para melhor visibilidade */
  font-weight: 700; /* Mais negrito */
  line-height: 1.2;
  color: var(--text-primary);
  text-align: center; /* Centraliza o título do diálogo */
}

.dialog-content {
  box-sizing: border-box;
  flex: 1;
  width: 100%;
  padding: 20px;
}

.dialog-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 700px; /* Aumenta a largura máxima para o stepper */
  max-height: 90vh;
  padding: 14px; /* Mais padding */
  overflow-y: auto;
  border-radius: 8px; /* Bordas mais suaves */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Sombra para destacar */
}

/* Estilos para o Stepper */
.transaction-stepper {
  color: var(--text-primary);
  background-color: transparent; /* Deixa o stepper transparente para herdar o fundo do diálogo */
}

/* Estilo para o conteúdo de cada passo do stepper */
.form-step-content {
  display: flex;
  flex-direction: column;
  gap: 20px; /* Espaçamento entre os campos */
  padding: 20px 0;
}

.form-field {
  width: 100%;
  margin-bottom: 0; /* Removido margin-bottom aqui, o gap do flexbox já controla */
}

mat-form-field {
  box-sizing: border-box;
  width: 100%;
  padding: 10px 15px; /* Adicionado padding interno */
  font-size: 14px; /* Tamanho da fonte dos campos aumentado */
  line-height: 1.5;
  background-color: var(--background-card); /* Fundo dos campos */
  border: 1px solid var(--border-color); /* Borda para visibilidade */
  border-radius: 8px; /* Bordas mais suaves para os campos */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); /* Sombra leve nos campos */
}

/* Estilo para a label flutuante */
mat-form-field.mat-form-field-appearance-outline .mat-form-field-label-wrapper {
  padding-top: 8px; /* Ajuste para centralizar a label */
}

mat-label {
  font-size: 12px; /* Tamanho da label */
  font-weight: 600; /* Mais negrito */
  color: var(--text-secondary);
  transition: color 0.2s ease-in-out; /* Transição suave para mudança de cor */
}

/* Estilo para quando o campo está focado */
mat-form-field.mat-focused .mat-form-field-label {
  color: var(--primary); /* Cor da label ao focar */
}

mat-form-field.mat-focused .mat-form-field-outline-thick {
  color: var(--primary); /* Cor da borda ao focar */
}


.form-hint {
  display: block;
  margin-top: 4px; /* Mais espaço */
  font-size: 10px; /* Tamanho do hint */
  line-height: 1.2;
  color: var(--text-muted);
}

.form-error {
  display: block;
  min-height: 12px; /* Aumentar para evitar "saltos" */
  margin-top: 4px; /* Mais espaço */
  font-size: 10px; /* Tamanho do erro */
  font-weight: 500;
  line-height: 1.2;
  color: var(--text-danger);
}

mat-icon {
  width: 18px;
  height: 18px;
  font-size: 18px; /* Aumenta o tamanho dos ícones */
  color: var(--text-secondary); /* Ícones mais visíveis */
}

.dialog-actions {
  display: flex;
  gap: 10px; /* Mais espaço entre os botões */
  justify-content: flex-end;
  padding: 15px 0;
  padding-right: 10px;
  margin-top: 20px;
  border-top: 1px solid var(--border-color); /* Linha divisória */
}

.stepper-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  margin-top: 15px; /* Espaço entre campos e botões do stepper */
}

.stepper-actions.final-actions {
  justify-content: space-between; /* Botões voltar e salvar separados */
}


button[mat-button][color="warn"] {
  padding: 8px 16px; /* Aumenta padding */
  font-size: 12px; /* Aumenta fonte */
  font-weight: 600; /* Mais negrito */
  color: var(--primary);
  background-color: var(--background-card); /* Fundo branco */
  border: 1px solid var(--text-danger); /* Borda vermelha */
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Sombra para botões de aviso */
  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}


button[mat-raised-button][color="danger"] {
  padding: 8px 20px; /* Aumenta padding */
  font-size: 12px; /* Aumenta fonte */
  font-weight: 600; /* Mais negrito */
  color: #ff1818;
  background-color: var(--text-danger);
  border: none; /* Remove borda padrão */
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Sombra para botões primários */
  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

button[mat-raised-button][color="warn"] {
  padding: 8px 20px; /* Aumenta padding */
  font-size: 12px; /* Aumenta fonte */
  font-weight: 600; /* Mais negrito */
  background-color: var(--warn);
  border: none; /* Remove borda padrão */
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Sombra para botões primários */
  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}


button[mat-raised-button][color="primary"] {
  padding: 8px 20px; /* Aumenta padding */
  font-size: 12px; /* Aumenta fonte */
  font-weight: 600; /* Mais negrito */
  color: #1856ff;
  background-color: var(--primary);
  border: none; /* Remove borda padrão */
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Sombra para botões primários */
  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}




button[mat-raised-button][color="primary"]:hover:enabled {
  background-color: var(--primary-hover);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

button[mat-raised-button][color="primary"]:disabled {
  color: var(--disabled-text);
  cursor: not-allowed;
  background-color: var(--disabled-bg);
  box-shadow: none;
  opacity: 0.7; /* Diminui a opacidade para indicar desabilitado */



}

/* SnackBar Styles */
.success-snackbar {
  padding: 10px 20px; /* Aumenta o padding */
  font-size: 14px; /* Aumenta o tamanho da fonte */
  color: var(--success-text);
  background-color: var(--success-bg);
}

.error-snackbar {
  color: var(--error-text);
  background-color: var(--error-bg);
}

/* Responsividade para Stepper */
@media (width <= 768px) {
  .dialog-container {
    max-width: 95%; /* Ajuste para telas menores */
    padding: 16px;
  }

  .dialog-title {
    font-size: 1.25rem;
  }

  /* Força o stepper a ser vertical em telas menores */
  .transaction-stepper.mat-stepper-horizontal {
    flex-direction: column;
  }

  .mat-horizontal-stepper-header-container {
    flex-wrap: wrap; /* Quebra as labels do stepper */
    gap: 10px; /* Espaçamento entre as labels */
    justify-content: center; /* Centraliza as labels */
    margin-bottom: 20px; /* Espaço entre o stepper e o conteúdo */
  }

  .mat-step-header {
    width: 100%; /* Largura total para cada passo */
    padding: 12px 0;
    text-align: center; /* Centraliza o texto */
  }

  .form-step-content {
    gap: 15px;
    width: 100%; /* Largura total */
    padding: 15px 0; /* Menos padding */
    margin: 0; /* Remove margens para evitar overflow */
  }

  mat-form-field {
    padding: 8px 12px;
    font-size: 13px;
  }

  mat-label {
    font-size: 11px;
  }

  .form-hint, .form-error {
    font-size: 9px;
  }

  .stepper-actions {
    justify-content: center; /* Centraliza botões em telas menores */
  }

  .stepper-actions.final-actions {
    justify-content: space-around; /* Mantém a separação, mas centraliza o grupo */
  }

  button[mat-button], button[mat-raised-button] {
    padding: 6px 12px;
    font-size: 11px;
  }
}

@media (width <= 480px) {
  .dialog-container {
    max-height: 95vh;
    padding: 12px;
  }

  .dialog-title {
    margin-bottom: 15px;
    font-size: 1rem;
  }

  .form-step-content {
    gap: 10px;
  }

  mat-form-field {
    padding: 6px 10px;
    font-size: 12px;
  }

  mat-label {
    font-size: 10px;
  }

  .form-hint, .form-error {
    min-height: 10px;
    font-size: 8px;
  }

  mat-icon {
    width: 16px;
    height: 16px;
    font-size: 16px;
  }

  .dialog-actions {
    flex-direction: column;
    gap: 8px;
    padding: 10px 0;
  }

  .stepper-actions, .stepper-actions.final-actions {
    flex-direction: column; /* Botões do stepper também em coluna */
    gap: 8px;
    justify-content: center;
  }

  button[mat-button], button[mat-raised-button] {
    width: 100%;
    padding: 8px;
    font-size: 10px;
  }
}
