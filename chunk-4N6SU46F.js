import{Aa as en,Ab as hn,Bb as un,Cb as mn,Da as xt,Ea as tn,Fa as nn,G as Xe,Ga as ri,Gb as pn,H as ii,I as ni,Ib as Tt,Nb as fn,P as Wi,Qa as on,S as $i,T as oi,Ta as rn,U as Gi,Ua as St,Ub as gn,V as Yi,_a as sn,aa as qi,ab as an,ba as Ki,c as gt,cb as ln,da as Xi,db as wt,e as _t,ea as bt,ec as Fe,fa as yt,fb as cn,gc as It,ic as Pt,ja as de,k as vt,ka as Qi,m as Ui,pb as Ce,qa as Ji,qb as si,r as W,rb as ai,s as Vi,sb as Ct,x as Bi,z as Hi,za as Zi,zb as dn}from"./chunk-BL6LWGXP.js";import{A as ne,Ac as ei,B as He,Bd as _e,Ca as re,Cd as Re,D as U,Da as $e,Db as pe,Eb as I,Ed as we,Fa as rt,Fd as Ni,Gc as mt,Gd as ji,H as ue,Hc as pt,Ja as se,Jb as at,K as it,Kb as M,L as Ei,Lb as _,M as nt,Ma as Ge,Mb as Ye,N as Ee,Nb as Se,Pb as Q,Pc as fe,Qb as Fi,S as oe,Sa as Ai,Sb as A,Sc as R,Tb as Li,Tc as ge,U as Yt,Ub as lt,V as We,Vb as ct,W as q,Wa as Xt,Wb as h,X as z,Xb as u,Yb as N,Z as T,Zb as Jt,_b as Zt,a as Ti,aa as m,ac as B,ad as H,ba as K,cc as zi,da as x,dc as P,f as w,fa as y,fb as me,fc as p,fd as ft,g as L,ga as a,gb as Qt,gc as dt,h as Ii,ha as qt,hc as qe,hd as ti,ia as Kt,ja as ki,jb as d,kb as xe,kc as ht,l as be,lc as Ae,m as f,mc as le,n as Z,nb as Di,nc as ce,pb as Ri,q as C,qa as ke,qc as ut,ra as O,rc as g,s as ie,sa as E,sb as st,sc as D,t as Gt,ta as ye,tc as V,ua as Mi,v as Pi,w as Be,xa as Me,xb as k,xd as Ke,y as Oi,ya as ot,yb as X,yd as De,zb as ae}from"./chunk-ZR6WDTF5.js";import{a as b,b as J,e as fo,f as go}from"./chunk-4X36HX5K.js";var Yn=fo(Ft=>{"use strict";Ft.byteLength=Dr;Ft.toByteArray=Fr;Ft.fromByteArray=Nr;var ee=[],$=[],Ar=typeof Uint8Array<"u"?Uint8Array:Array,bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ie=0,$n=bi.length;Ie<$n;++Ie)ee[Ie]=bi[Ie],$[bi.charCodeAt(Ie)]=Ie;var Ie,$n;$[45]=62;$[95]=63;function Gn(n){var s=n.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=s);var t=e===s?0:4-e%4;return[e,t]}function Dr(n){var s=Gn(n),e=s[0],t=s[1];return(e+t)*3/4-t}function Rr(n,s,e){return(s+e)*3/4-e}function Fr(n){var s,e=Gn(n),t=e[0],i=e[1],o=new Ar(Rr(n,t,i)),r=0,c=i>0?t-4:t,l;for(l=0;l<c;l+=4)s=$[n.charCodeAt(l)]<<18|$[n.charCodeAt(l+1)]<<12|$[n.charCodeAt(l+2)]<<6|$[n.charCodeAt(l+3)],o[r++]=s>>16&255,o[r++]=s>>8&255,o[r++]=s&255;return i===2&&(s=$[n.charCodeAt(l)]<<2|$[n.charCodeAt(l+1)]>>4,o[r++]=s&255),i===1&&(s=$[n.charCodeAt(l)]<<10|$[n.charCodeAt(l+1)]<<4|$[n.charCodeAt(l+2)]>>2,o[r++]=s>>8&255,o[r++]=s&255),o}function Lr(n){return ee[n>>18&63]+ee[n>>12&63]+ee[n>>6&63]+ee[n&63]}function zr(n,s,e){for(var t,i=[],o=s;o<e;o+=3)t=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(Lr(t));return i.join("")}function Nr(n){for(var s,e=n.length,t=e%3,i=[],o=16383,r=0,c=e-t;r<c;r+=o)i.push(zr(n,r,r+o>c?c:r+o));return t===1?(s=n[e-1],i.push(ee[s>>2]+ee[s<<4&63]+"==")):t===2&&(s=(n[e-2]<<8)+n[e-1],i.push(ee[s>>10]+ee[s>>4&63]+ee[s<<2&63]+"=")),i.join("")}});var yo=["trigger"],xo=["panel"],So=[[["mat-select-trigger"]],"*"],wo=["mat-select-trigger","*"];function Co(n,s){if(n&1&&(h(0,"span",4),g(1),u()),n&2){let e=p();d(),D(e.placeholder)}}function To(n,s){n&1&&qe(0)}function Io(n,s){if(n&1&&(h(0,"span",11),g(1),u()),n&2){let e=p(2);d(),D(e.triggerValue)}}function Po(n,s){if(n&1&&(h(0,"span",5),I(1,To,1,0)(2,Io,2,1,"span",11),u()),n&2){let e=p();d(),A(e.customTrigger?1:2)}}function Oo(n,s){if(n&1){let e=B();h(0,"div",12,1),P("@transformPanel.done",function(i){O(e);let o=p();return E(o._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){O(e);let o=p();return E(o._handleKeydown(i))}),qe(2,1),u()}if(n&2){let e=p();Fi("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),_("ngClass",e.panelClass)("@transformPanel","showing"),M("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Eo={transformPanelWrap:Ke("transformPanelWrap",[we("* => void",ji("@transformPanel",[Ni()],{optional:!0}))]),transformPanel:Ke("transformPanel",[Re("void",_e({opacity:0,transform:"scale(1, 0.8)"})),we("void => showing",De("120ms cubic-bezier(0, 0, 0.2, 1)",_e({opacity:1,transform:"scale(1, 1)"}))),we("* => void",De("100ms linear",_e({opacity:0})))])};var xn=new x("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=a(Ce);return()=>n.scrollStrategies.reposition()}});function ko(n){return()=>n.scrollStrategies.reposition()}var Mo=new x("MAT_SELECT_CONFIG"),Ao={provide:xn,deps:[Ce],useFactory:ko},Sn=new x("MatSelectTrigger"),li=class{source;value;constructor(s,e){this.source=s,this.value=e}},wn=(()=>{class n{_viewportRuler=a(ln);_changeDetectorRef=a(fe);_elementRef=a(se);_dir=a(yt,{optional:!0});_idGenerator=a(bt);_parentFormField=a(hn,{optional:!0});ngControl=a(Tt,{self:!0,optional:!0});_liveAnnouncer=a(qi);_defaultOptions=a(Mo,{optional:!0});_initialized=new w;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let i=this.panel.nativeElement,o=tn(e,this.options,this.optionGroups),r=t._getHostElement();e===0&&o===1?i.scrollTop=0:i.scrollTop=nn(r.offsetTop,r.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new li(this,e)}_scrollStrategyFactory=a(xn);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new w;_errorStateTracker;stateChanges=new w;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new w;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(pn.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Pi(()=>{let e=this.options;return e?e.changes.pipe(We(e),q(()=>ne(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(q(()=>this.optionSelectionChanges))});openedChange=new re;_openedStream=this.openedChange.pipe(He(e=>e),C(()=>{}));_closedStream=this.openedChange.pipe(He(e=>!e),C(()=>{}));selectionChange=new re;valueChange=new re;constructor(){let e=a(Ji),t=a(fn,{optional:!0}),i=a(gn,{optional:!0}),o=a(new ot("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Qi(e,this.ngControl,i,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new sn(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(it(),z(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(z(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(z(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(We(null),z(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&oi(this._trackedModal,"aria-owns",t),$i(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;oi(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,i=t===40||t===38||t===37||t===39,o=t===13||t===32,r=this._keyManager;if(!r.isTyping()&&o&&!Xe(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;r.onKeydown(e);let l=this.selected;l&&c!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,i=e.keyCode,o=i===40||i===38,r=t.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!r&&(i===13||i===32)&&t.activeItem&&!Xe(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!r&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let c=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(c?l.select():l.deselect())})}else{let c=t.activeItemIndex;t.onKeydown(e),this._multiple&&o&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==c&&t.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ue(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return(i.value!=null||this.canSelectNullableOptions)&&this._compareWith(i.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof si?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Yi(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ne(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(z(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ne(...this.options.map(t=>t._stateChanges)).pipe(z(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let i=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(i=>i.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,o){if(t&1&&(ht(o,Sn,5),ht(o,xt,5),ht(o,en,5)),t&2){let r;le(r=ce())&&(i.customTrigger=r.first),le(r=ce())&&(i.options=r),le(r=ce())&&(i.optionGroups=r)}},viewQuery:function(t,i){if(t&1&&(Ae(yo,5),Ae(xo,5),Ae(ai,5)),t&2){let o;le(o=ce())&&(i.trigger=o.first),le(o=ce())&&(i.panel=o.first),le(o=ce())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){t&1&&P("keydown",function(r){return i._handleKeydown(r)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),t&2&&(M("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Se("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",R],disableRipple:[2,"disableRipple","disableRipple",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ge(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",R],placeholder:"placeholder",required:[2,"required","required",R],multiple:[2,"multiple","multiple",R],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",R],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",ge],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",R]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ei([{provide:dn,useExisting:n},{provide:Zi,useExisting:n}]),pe,ke],ngContentSelectors:wo,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,i){if(t&1){let o=B();dt(So),h(0,"div",2,0),P("click",function(){return O(o),E(i.open())}),h(3,"div",3),I(4,Co,2,1,"span",4)(5,Po,3,1,"span",5),u(),h(6,"div",6)(7,"div",7),ye(),h(8,"svg",8),N(9,"path",9),u()()()(),I(10,Oo,3,9,"ng-template",10),P("backdropClick",function(){return O(o),E(i.close())})("attach",function(){return O(o),E(i._onAttached())})("detach",function(){return O(o),E(i.close())})}if(t&2){let o=ut(1);d(3),M("id",i._valueId),d(),A(i.empty?4:5),d(6),_("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[si,ai,ft],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[Eo.transformPanel]},changeDetection:0})}return n})(),ga=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["mat-select-trigger"]],features:[ei([{provide:Sn,useExisting:n}])]})}return n})(),Cn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=X({type:n});static \u0275inj=K({providers:[Ao],imports:[Ct,ri,de,wt,mn,ri,de]})}return n})();var Ro=["tooltip"],Pn=20;var On=new x("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=a(Ce);return()=>n.scrollStrategies.reposition({scrollThrottle:Pn})}});function Fo(n){return()=>n.scrollStrategies.reposition({scrollThrottle:Pn})}var Lo={provide:On,deps:[Ce],useFactory:Fo};function zo(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var No=new x("mat-tooltip-default-options",{providedIn:"root",factory:zo});var Tn="tooltip-panel",In=Hi({passive:!0}),jo=8,Uo=8,Vo=24,Bo=200,En=(()=>{class n{_overlay=a(Ce);_elementRef=a(se);_scrollDispatcher=a(an);_viewContainerRef=a(st);_ngZone=a($e);_platform=a(Bi);_ariaDescriber=a(Gi);_focusMonitor=a(Ki);_dir=a(yt);_injector=a(Me);_defaultOptions=a(No,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=a(On);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Ho;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ii(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=ii(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ni(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ni(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=a(H);_touchstartTimeout=null;_destroyed=new w;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=jo}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(z(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,i])=>{e.removeEventListener(t,i,In)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(t);this._detach(),this._portal=this._portal||new cn(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(z(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof se)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(z(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Tn}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(z(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(z(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(z(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Xe(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(z(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(b(b({},i.main),o.main)),this._addOffset(b(b({},i.fallback),o.fallback))])}_addOffset(e){let t=Uo,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=i?-t:t:e.originX==="end"&&(e.offsetX=i?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"||t=="below"?i={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:o,y:r}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:r}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"?i={overlayX:"center",overlayY:"bottom"}:t=="below"?i={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:r}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Xt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:i,originY:o}=e,r;if(t==="center"?this._dir&&this._dir.value==="rtl"?r=i==="end"?"left":"right":r=i==="start"?"left":"right":r=t==="bottom"&&o==="top"?"above":"below",r!==this._currentPosition){let c=this._overlayRef;if(c){let l=`${this._cssClassPrefix}-${Tn}-`;c.removePanelClass(l+this._currentPosition),c.addPanelClass(l+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],i=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let i=t.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,i])=>{this._elementRef.nativeElement.addEventListener(t,i,In)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;t!==i&&!i.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,i=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!t.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||Xt({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,i){t&2&&Se("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),Ho=(()=>{class n{_changeDetectorRef=a(fe);_elementRef=a(se);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new w;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=a(Ai,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Vo&&e.width>=Bo}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:i),t.classList.add(e?i:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(t);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(t&1&&Ae(Ro,7),t&2){let o;le(o=ce())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,i){t&1&&P("mouseleave",function(r){return i._handleMouseLeave(r)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,i){if(t&1){let o=B();h(0,"div",1,0),P("animationend",function(c){return O(o),E(i._handleAnimationEnd(c))}),h(2,"div",2),g(3),u()()}t&2&&(Se("mdc-tooltip--multiline",i._isMultiline),_("ngClass",i.tooltipClass),d(3),D(i.message))},dependencies:[ft],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})();var kn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=X({type:n});static \u0275inj=K({providers:[Lo],imports:[Xi,Ct,de,de,wt]})}return n})();function Wo(n,s){if(n&1&&(h(0,"mat-option",17),g(1),u()),n&2){let e=s.$implicit;_("value",e),d(),V(" ",e," ")}}function $o(n,s){if(n&1){let e=B();h(0,"mat-form-field",14)(1,"mat-select",16,0),P("selectionChange",function(i){O(e);let o=p(2);return E(o._changePageSize(i.value))}),lt(3,Wo,2,2,"mat-option",17,Li),u(),h(5,"div",18),P("click",function(){O(e);let i=ut(2);return E(i.open())}),u()()}if(n&2){let e=p(2);_("appearance",e._formFieldAppearance)("color",e.color),d(),_("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),d(2),ct(e._displayedPageSizeOptions)}}function Go(n,s){if(n&1&&(h(0,"div",15),g(1),u()),n&2){let e=p(2);d(),D(e.pageSize)}}function Yo(n,s){if(n&1&&(h(0,"div",3)(1,"div",13),g(2),u(),I(3,$o,6,7,"mat-form-field",14)(4,Go,2,1,"div",15),u()),n&2){let e=p();d(),M("id",e._pageSizeLabelId),d(),V(" ",e._intl.itemsPerPageLabel," "),d(),A(e._displayedPageSizeOptions.length>1?3:-1),d(),A(e._displayedPageSizeOptions.length<=1?4:-1)}}function qo(n,s){if(n&1){let e=B();h(0,"button",19),P("click",function(){O(e);let i=p();return E(i._buttonClicked(0,i._previousButtonsDisabled()))}),ye(),h(1,"svg",8),N(2,"path",20),u()()}if(n&2){let e=p();_("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled()),M("aria-label",e._intl.firstPageLabel)}}function Ko(n,s){if(n&1){let e=B();h(0,"button",21),P("click",function(){O(e);let i=p();return E(i._buttonClicked(i.getNumberOfPages()-1,i._nextButtonsDisabled()))}),ye(),h(1,"svg",8),N(2,"path",22),u()()}if(n&2){let e=p();_("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled()),M("aria-label",e._intl.lastPageLabel)}}var Le=(()=>{class n{changes=new w;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,t,i)=>{if(i==0||t==0)return`0 of ${i}`;i=Math.max(i,0);let o=e*t,r=o<i?Math.min(o+t,i):o+t;return`${o+1} \u2013 ${r} of ${i}`};static \u0275fac=function(t){return new(t||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xo(n){return n||new Le}var Qo={provide:Le,deps:[[new qt,new Kt,Le]],useFactory:Xo},Jo=50;var Zo=new x("MAT_PAGINATOR_DEFAULT_OPTIONS"),er=(()=>{class n{_intl=a(Le);_changeDetectorRef=a(fe);_formFieldAppearance;_pageSizeLabelId=a(bt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Ii(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>ge(t,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new re;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,t=a(Zo,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),t){let{pageSize:i,pageSizeOptions:o,hidePageSize:r,showFirstLastButtons:c}=t;i!=null&&(this._pageSize=i),o!=null&&(this._pageSizeOptions=o),r!=null&&(this.hidePageSize=r),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=t?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Jo),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let t=this.pageIndex;e!==t&&(this.pageIndex=e,this._emitPageEvent(t))}_buttonClicked(e,t){t||this._navigate(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ge],length:[2,"length","length",ge],pageSize:[2,"pageSize","pageSize",ge],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",R],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",R],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",R]},outputs:{page:"page"},exportAs:["matPaginator"],features:[pe],decls:14,vars:12,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){t&1&&(h(0,"div",1)(1,"div",2),I(2,Yo,5,4,"div",3),h(3,"div",4)(4,"div",5),g(5),u(),I(6,qo,3,4,"button",6),h(7,"button",7),P("click",function(){return i._buttonClicked(i.pageIndex-1,i._previousButtonsDisabled())}),ye(),h(8,"svg",8),N(9,"path",9),u()(),Mi(),h(10,"button",10),P("click",function(){return i._buttonClicked(i.pageIndex+1,i._nextButtonsDisabled())}),ye(),h(11,"svg",8),N(12,"path",11),u()(),I(13,Ko,3,4,"button",12),u()()()),t&2&&(d(2),A(i.hidePageSize?-1:2),d(3),V(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),d(),A(i.showFirstLastButtons?6:-1),d(),_("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled()),M("aria-label",i._intl.previousPageLabel),d(3),_("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled()),M("aria-label",i._intl.nextPageLabel),d(3),A(i.showFirstLastButtons?13:-1))},dependencies:[un,wn,xt,rn,En],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return n})(),tl=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=X({type:n});static \u0275inj=K({providers:[Qo],imports:[St,Cn,kn,er]})}return n})();var Et={REMOVE:"remove",SHOW:"show"},An=(()=>{class n{constructor(){this.strategiesSource=new L({}),this.strategies$=this.strategiesSource.asObservable()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})(),di=new x("USE_CONFIGURATION_STORE"),hi=(()=>{class n{constructor(e=!1,t){this.isolate=e,this.configurationStore=t,this.strategiesSource=this.isolate?new L({}):this.configurationStore.strategiesSource,this.strategies$=this.strategiesSource.asObservable(),this.onAuthorisedDefaultStrategy=this.isolate?void 0:this.configurationStore.onAuthorisedDefaultStrategy,this.onUnAuthorisedDefaultStrategy=this.isolate?void 0:this.configurationStore.onUnAuthorisedDefaultStrategy}setDefaultOnAuthorizedStrategy(e){this.isolate?this.onAuthorisedDefaultStrategy=this.getDefinedStrategy(e):(this.configurationStore.onAuthorisedDefaultStrategy=this.getDefinedStrategy(e),this.onAuthorisedDefaultStrategy=this.configurationStore.onAuthorisedDefaultStrategy)}setDefaultOnUnauthorizedStrategy(e){this.isolate?this.onUnAuthorisedDefaultStrategy=this.getDefinedStrategy(e):(this.configurationStore.onUnAuthorisedDefaultStrategy=this.getDefinedStrategy(e),this.onUnAuthorisedDefaultStrategy=this.configurationStore.onUnAuthorisedDefaultStrategy)}addPermissionStrategy(e,t){this.strategiesSource.value[e]=t}getStrategy(e){return this.strategiesSource.value[e]}getAllStrategies(){return this.strategiesSource.value}getDefinedStrategy(e){if(this.strategiesSource.value[e]||this.isPredefinedStrategy(e))return e;throw new Error(`No ' ${e} ' strategy is found please define one`)}isPredefinedStrategy(e){return e===Et.SHOW||e===Et.REMOVE}static{this.\u0275fac=function(t){return new(t||n)(y(di),y(An))}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})();function j(n){return typeof n=="function"}function ci(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;{let s=Object.getPrototypeOf(n);return s===null||s===Object.prototype}}function Dn(n){return!!n&&typeof n=="string"}function kt(n){return typeof n=="boolean"}function tr(n){return Object.prototype.toString.call(n)==="[object Promise]"}function Ot(n){return Array.isArray(n)?n.length>0:!!n}function Mt(n){return Dn(n)?[n]:n}var Rn=(()=>{class n{constructor(){this.permissionsSource=new L({}),this.permissions$=this.permissionsSource.asObservable()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})(),ui=new x("USE_PERMISSIONS_STORE"),Te=(()=>{class n{constructor(e=!1,t){this.isolate=e,this.permissionsStore=t,this.permissionsSource=this.isolate?new L({}):this.permissionsStore.permissionsSource,this.permissions$=this.permissionsSource.asObservable()}flushPermissions(){this.permissionsSource.next({})}hasPermission(e){return!e||Array.isArray(e)&&e.length===0?Promise.resolve(!0):(e=Mt(e),this.hasArrayPermission(e))}loadPermissions(e,t){let i=e.reduce((o,r)=>this.reducePermission(o,r,t),{});this.permissionsSource.next(i)}addPermission(e,t){if(Array.isArray(e)){let i=e.reduce((o,r)=>this.reducePermission(o,r,t),this.permissionsSource.value);this.permissionsSource.next(i)}else{let i=this.reducePermission(this.permissionsSource.value,e,t);this.permissionsSource.next(i)}}removePermission(e){let t=b({},this.permissionsSource.value);delete t[e],this.permissionsSource.next(t)}getPermission(e){return this.permissionsSource.value[e]}getPermissions(){return this.permissionsSource.value}reducePermission(e,t,i){return i&&j(i)?J(b({},e),{[t]:{name:t,validationFunction:i}}):J(b({},e),{[t]:{name:t}})}hasArrayPermission(e){let t=e.map(i=>{if(this.hasPermissionValidationFunction(i)){let o=this.permissionsSource.value[i].validationFunction,r=b({},this.permissionsSource.value);return f(null).pipe(C(()=>o(i,r)),q(c=>kt(c)?f(c):c),U(()=>f(!1)))}return f(!!this.permissionsSource.value[i])});return be(t).pipe(Gt(),Ee(i=>i!==!1,!1),C(i=>i!==!1)).toPromise().then(i=>i)}hasPermissionValidationFunction(e){return!!this.permissionsSource.value[e]&&!!this.permissionsSource.value[e].validationFunction&&j(this.permissionsSource.value[e].validationFunction)}static{this.\u0275fac=function(t){return new(t||n)(y(ui),y(Rn))}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})(),At=class{constructor(){this.rolesSource=new L({}),this.roles$=this.rolesSource.asObservable()}},mi=new x("USE_ROLES_STORE"),ze=(()=>{class n{constructor(e=!1,t,i){this.isolate=e,this.rolesStore=t,this.permissionsService=i,this.rolesSource=this.isolate?new L({}):this.rolesStore.rolesSource,this.roles$=this.rolesSource.asObservable()}addRole(e,t){let i=J(b({},this.rolesSource.value),{[e]:{name:e,validationFunction:t}});this.rolesSource.next(i)}addRoleWithPermissions(e,t){this.permissionsService.addPermission(t),this.addRole(e,t)}addRoles(e){Object.keys(e).forEach((t,i)=>{this.addRole(t,e[t])})}addRolesWithPermissions(e){Object.keys(e).forEach((t,i)=>{this.addRoleWithPermissions(t,e[t])})}flushRoles(){this.rolesSource.next({})}flushRolesAndPermissions(){this.flushRoles(),this.permissionsService.flushPermissions()}removeRole(e){let t=b({},this.rolesSource.value);delete t[e],this.rolesSource.next(t)}getRoles(){return this.rolesSource.value}getRole(e){return this.rolesSource.value[e]}hasOnlyRoles(e){return!e||Array.isArray(e)&&e.length===0?Promise.resolve(!0):(e=Mt(e),Promise.all([this.hasRoleKey(e),this.hasRolePermission(this.rolesSource.value,e)]).then(([i,o])=>i||o))}hasRoleKey(e){let t=e.map(i=>{if(!!this.rolesSource.value[i]&&!!this.rolesSource.value[i].validationFunction&&j(this.rolesSource.value[i].validationFunction)&&!tr(this.rolesSource.value[i].validationFunction)){let r=this.rolesSource.value[i].validationFunction,c=b({},this.rolesSource.value);return f(null).pipe(C(()=>r(i,c)),q(l=>kt(l)?f(l):l),U(()=>f(!1)))}return f(!1)});return be(t).pipe(Gt(),Ee(i=>i!==!1,!1),C(i=>i!==!1)).toPromise().then(i=>i)}hasRolePermission(e,t){return be(t).pipe(ie(i=>e[i]&&Array.isArray(e[i].validationFunction)?be(e[i].validationFunction).pipe(ie(o=>this.permissionsService.hasPermission(o)),Ei(o=>o===!0)):f(!1)),Ee(i=>i===!0,!1)).toPromise()}static{this.\u0275fac=function(t){return new(t||n)(y(mi),y(At),y(Te))}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})(),ml=(()=>{class n{constructor(){this.permissionsAuthorized=new re,this.permissionsUnauthorized=new re,this.firstMergeUnusedRun=1,this.permissionsService=a(Te),this.configurationService=a(hi),this.rolesService=a(ze),this.viewContainer=a(st),this.changeDetector=a(fe),this.templateRef=a(Di)}ngOnInit(){this.viewContainer.clear(),this.initPermissionSubscription=this.validateExceptOnlyPermissions()}ngOnChanges(e){let t=e.ngxPermissionsOnly,i=e.ngxPermissionsExcept;if(t||i){if(t&&t.firstChange||i&&i.firstChange)return;ne(this.permissionsService.permissions$,this.rolesService.roles$).pipe(Yt(this.firstMergeUnusedRun),ue(1)).subscribe(()=>{if(Ot(this.ngxPermissionsExcept)){this.validateExceptAndOnlyPermissions();return}if(Ot(this.ngxPermissionsOnly)){this.validateOnlyPermissions();return}this.handleAuthorisedPermission(this.getAuthorisedTemplates())})}}ngOnDestroy(){this.initPermissionSubscription&&this.initPermissionSubscription.unsubscribe()}validateExceptOnlyPermissions(){return ne(this.permissionsService.permissions$,this.rolesService.roles$).pipe(Yt(this.firstMergeUnusedRun)).subscribe(()=>{if(Ot(this.ngxPermissionsExcept)){this.validateExceptAndOnlyPermissions();return}if(Ot(this.ngxPermissionsOnly)){this.validateOnlyPermissions();return}this.handleAuthorisedPermission(this.getAuthorisedTemplates())})}validateExceptAndOnlyPermissions(){Promise.all([this.permissionsService.hasPermission(this.ngxPermissionsExcept),this.rolesService.hasOnlyRoles(this.ngxPermissionsExcept)]).then(([e,t])=>{if(e||t){this.handleUnauthorisedPermission(this.ngxPermissionsExceptElse||this.ngxPermissionsElse);return}if(this.ngxPermissionsOnly)throw!1;this.handleAuthorisedPermission(this.ngxPermissionsExceptThen||this.ngxPermissionsThen||this.templateRef)}).catch(()=>{this.ngxPermissionsOnly?this.validateOnlyPermissions():this.handleAuthorisedPermission(this.ngxPermissionsExceptThen||this.ngxPermissionsThen||this.templateRef)})}validateOnlyPermissions(){Promise.all([this.permissionsService.hasPermission(this.ngxPermissionsOnly),this.rolesService.hasOnlyRoles(this.ngxPermissionsOnly)]).then(([e,t])=>{e||t?this.handleAuthorisedPermission(this.ngxPermissionsOnlyThen||this.ngxPermissionsThen||this.templateRef):this.handleUnauthorisedPermission(this.ngxPermissionsOnlyElse||this.ngxPermissionsElse)}).catch(()=>{this.handleUnauthorisedPermission(this.ngxPermissionsOnlyElse||this.ngxPermissionsElse)})}handleUnauthorisedPermission(e){if(!(kt(this.currentAuthorizedState)&&!this.currentAuthorizedState)){if(this.currentAuthorizedState=!1,this.permissionsUnauthorized.emit(),this.getUnAuthorizedStrategyInput()){this.applyStrategyAccordingToStrategyType(this.getUnAuthorizedStrategyInput());return}this.configurationService.onUnAuthorisedDefaultStrategy&&!this.elseBlockDefined()?this.applyStrategy(this.configurationService.onUnAuthorisedDefaultStrategy):this.showTemplateBlockInView(e)}}handleAuthorisedPermission(e){if(!(kt(this.currentAuthorizedState)&&this.currentAuthorizedState)){if(this.currentAuthorizedState=!0,this.permissionsAuthorized.emit(),this.getAuthorizedStrategyInput()){this.applyStrategyAccordingToStrategyType(this.getAuthorizedStrategyInput());return}this.configurationService.onAuthorisedDefaultStrategy&&!this.thenBlockDefined()?this.applyStrategy(this.configurationService.onAuthorisedDefaultStrategy):this.showTemplateBlockInView(e)}}applyStrategyAccordingToStrategyType(e){if(Dn(e)){this.applyStrategy(e);return}if(j(e)){this.showTemplateBlockInView(this.templateRef),e(this.templateRef);return}}showTemplateBlockInView(e){this.viewContainer.clear(),e&&(this.viewContainer.createEmbeddedView(e),this.changeDetector.markForCheck())}getAuthorisedTemplates(){return this.ngxPermissionsOnlyThen||this.ngxPermissionsExceptThen||this.ngxPermissionsThen||this.templateRef}elseBlockDefined(){return!!this.ngxPermissionsExceptElse||!!this.ngxPermissionsElse}thenBlockDefined(){return!!this.ngxPermissionsExceptThen||!!this.ngxPermissionsThen}getAuthorizedStrategyInput(){return this.ngxPermissionsOnlyAuthorisedStrategy||this.ngxPermissionsExceptAuthorisedStrategy||this.ngxPermissionsAuthorisedStrategy}getUnAuthorizedStrategyInput(){return this.ngxPermissionsOnlyUnauthorisedStrategy||this.ngxPermissionsExceptUnauthorisedStrategy||this.ngxPermissionsUnauthorisedStrategy}applyStrategy(e){if(e===Et.SHOW){this.showTemplateBlockInView(this.templateRef);return}if(e===Et.REMOVE){this.viewContainer.clear();return}let t=this.configurationService.getStrategy(e);this.showTemplateBlockInView(this.templateRef),t(this.templateRef)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","ngxPermissionsOnly",""],["","ngxPermissionsExcept",""]],inputs:{ngxPermissionsOnly:"ngxPermissionsOnly",ngxPermissionsOnlyThen:"ngxPermissionsOnlyThen",ngxPermissionsOnlyElse:"ngxPermissionsOnlyElse",ngxPermissionsExcept:"ngxPermissionsExcept",ngxPermissionsExceptElse:"ngxPermissionsExceptElse",ngxPermissionsExceptThen:"ngxPermissionsExceptThen",ngxPermissionsThen:"ngxPermissionsThen",ngxPermissionsElse:"ngxPermissionsElse",ngxPermissionsOnlyAuthorisedStrategy:"ngxPermissionsOnlyAuthorisedStrategy",ngxPermissionsOnlyUnauthorisedStrategy:"ngxPermissionsOnlyUnauthorisedStrategy",ngxPermissionsExceptUnauthorisedStrategy:"ngxPermissionsExceptUnauthorisedStrategy",ngxPermissionsExceptAuthorisedStrategy:"ngxPermissionsExceptAuthorisedStrategy",ngxPermissionsUnauthorisedStrategy:"ngxPermissionsUnauthorisedStrategy",ngxPermissionsAuthorisedStrategy:"ngxPermissionsAuthorisedStrategy"},outputs:{permissionsAuthorized:"permissionsAuthorized",permissionsUnauthorized:"permissionsUnauthorized"},standalone:!1,features:[ke]})}}return n})(),ir="default";var Mn=(()=>{class n{constructor(e,t,i){this.permissionsService=e,this.rolesService=t,this.router=i}canActivate(e,t){return this.hasPermissions(e,t)}canActivateChild(e,t){return this.hasPermissions(e,t)}canLoad(e){return this.hasPermissions(e)}canMatch(e){return this.hasPermissions(e)}hasPermissions(e,t){let i=e&&e.data?e.data.permissions:{},o=this.transformPermission(i,e,t);return this.isParameterAvailable(o.except)?this.passingExceptPermissionsValidation(o,e,t):this.isParameterAvailable(o.only)?this.passingOnlyPermissionsValidation(o,e,t):!0}transformPermission(e,t,i){let o=j(e.only)?e.only(t,i):Mt(e.only),r=j(e.except)?e.except(t,i):Mt(e.except),c=e.redirectTo;return{only:o,except:r,redirectTo:c}}isParameterAvailable(e){return!!e&&e.length>0}passingExceptPermissionsValidation(e,t,i){if(e.redirectTo&&(j(e.redirectTo)||ci(e.redirectTo)&&!this.isRedirectionWithParameters(e.redirectTo))){let o="";return be(e.except).pipe(ie(r=>Be([this.permissionsService.hasPermission(r),this.rolesService.hasOnlyRoles(r)]).pipe(T(c=>{c.every(v=>v===!1)||(o=r)}))),Ee(r=>r.some(c=>c===!0),!1),ie(r=>o?(this.handleRedirectOfFailedPermission(e,o,t,i),f(!1)):!r&&e.only?this.onlyRedirectCheck(e,t,i):f(!r))).toPromise()}return Promise.all([this.permissionsService.hasPermission(e.except),this.rolesService.hasOnlyRoles(e.except)]).then(([o,r])=>o||r?(e.redirectTo&&this.redirectToAnotherRoute(e.redirectTo,t,i),!1):e.only?this.checkOnlyPermissions(e,t,i):!0)}redirectToAnotherRoute(e,t,i,o){let r=j(e)?e(o,t,i):e;if(this.isRedirectionWithParameters(r)){r.navigationCommands=this.transformNavigationCommands(r.navigationCommands,t,i),r.navigationExtras=this.transformNavigationExtras(r.navigationExtras,t,i),this.router.navigate(r.navigationCommands,r.navigationExtras);return}Array.isArray(r)?this.router.navigate(r):this.router.navigate([r])}isRedirectionWithParameters(e){return ci(e)&&(!!e.navigationCommands||!!e.navigationExtras)}transformNavigationCommands(e,t,i){return j(e)?e(t,i):e}transformNavigationExtras(e,t,i){return j(e)?e(t,i):e}onlyRedirectCheck(e,t,i){let o="";return be(e.only).pipe(ie(r=>Be([this.permissionsService.hasPermission(r),this.rolesService.hasOnlyRoles(r)]).pipe(T(c=>{c.every(v=>v===!1)&&(o=r)}))),Ee(r=>j(e.redirectTo)?r.some(c=>c===!0):r.every(c=>c===!1),!1),ie(r=>j(e.redirectTo)?r?f(!0):(this.handleRedirectOfFailedPermission(e,o,t,i),f(!1)):(o&&this.handleRedirectOfFailedPermission(e,o,t,i),f(!r)))).toPromise()}handleRedirectOfFailedPermission(e,t,i,o){this.isFailedPermissionPropertyOfRedirectTo(e,t)?this.redirectToAnotherRoute(e.redirectTo[t],i,o,t):j(e.redirectTo)?this.redirectToAnotherRoute(e.redirectTo,i,o,t):this.redirectToAnotherRoute(e.redirectTo[ir],i,o,t)}isFailedPermissionPropertyOfRedirectTo(e,t){return!!e.redirectTo&&e.redirectTo[t]}checkOnlyPermissions(e,t,i){let o=b({},e);return Promise.all([this.permissionsService.hasPermission(o.only),this.rolesService.hasOnlyRoles(o.only)]).then(([r,c])=>r||c?!0:(o.redirectTo&&this.redirectToAnotherRoute(o.redirectTo,t,i),!1))}passingOnlyPermissionsValidation(e,t,i){return j(e.redirectTo)||ci(e.redirectTo)&&!this.isRedirectionWithParameters(e.redirectTo)?this.onlyRedirectCheck(e,t,i):this.checkOnlyPermissions(e,t,i)}static{this.\u0275fac=function(t){return new(t||n)(y(Te),y(ze),y(W))}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac})}}return n})();var pl=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[Rn,At,An,Te,Mn,ze,hi,{provide:ui,useValue:e.permissionsIsolate},{provide:mi,useValue:e.rolesIsolate},{provide:di,useValue:e.configurationIsolate}]}}static forChild(e={}){return{ngModule:n,providers:[{provide:ui,useValue:e.permissionsIsolate},{provide:mi,useValue:e.rolesIsolate},{provide:di,useValue:e.configurationIsolate},hi,Te,ze,Mn]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=X({type:n})}static{this.\u0275inj=K({})}}return n})();var Fn=["toast-component",""];function or(n,s){if(n&1){let e=B();h(0,"button",5),P("click",function(){O(e);let i=p();return E(i.remove())}),h(1,"span",6),g(2,"\xD7"),u()()}}function rr(n,s){if(n&1&&(Jt(0),g(1),Zt()),n&2){let e=p(2);d(),V("[",e.duplicatesCount+1,"]")}}function sr(n,s){if(n&1&&(h(0,"div"),g(1),I(2,rr,2,1,"ng-container",4),u()),n&2){let e=p();Q(e.options.titleClass),M("aria-label",e.title),d(),V(" ",e.title," "),d(),_("ngIf",e.duplicatesCount)}}function ar(n,s){if(n&1&&N(0,"div",7),n&2){let e=p();Q(e.options.messageClass),_("innerHTML",e.message,Qt)}}function lr(n,s){if(n&1&&(h(0,"div",8),g(1),u()),n&2){let e=p();Q(e.options.messageClass),M("aria-label",e.message),d(),V(" ",e.message," ")}}function cr(n,s){if(n&1&&(h(0,"div"),N(1,"div",9),u()),n&2){let e=p();d(),Ye("width",e.width()+"%")}}function dr(n,s){if(n&1){let e=B();h(0,"button",5),P("click",function(){O(e);let i=p();return E(i.remove())}),h(1,"span",6),g(2,"\xD7"),u()()}}function hr(n,s){if(n&1&&(Jt(0),g(1),Zt()),n&2){let e=p(2);d(),V("[",e.duplicatesCount+1,"]")}}function ur(n,s){if(n&1&&(h(0,"div"),g(1),I(2,hr,2,1,"ng-container",4),u()),n&2){let e=p();Q(e.options.titleClass),M("aria-label",e.title),d(),V(" ",e.title," "),d(),_("ngIf",e.duplicatesCount)}}function mr(n,s){if(n&1&&N(0,"div",7),n&2){let e=p();Q(e.options.messageClass),_("innerHTML",e.message,Qt)}}function pr(n,s){if(n&1&&(h(0,"div",8),g(1),u()),n&2){let e=p();Q(e.options.messageClass),M("aria-label",e.message),d(),V(" ",e.message," ")}}function fr(n,s){if(n&1&&(h(0,"div"),N(1,"div",9),u()),n&2){let e=p();d(),Ye("width",e.width()+"%")}}var pi=class{_attachedHost;component;viewContainerRef;injector;constructor(s,e){this.component=s,this.injector=e}attach(s,e){return this._attachedHost=s,s.attach(this,e)}detach(){let s=this._attachedHost;if(s)return this._attachedHost=void 0,s.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(s){this._attachedHost=s}},fi=class{_attachedPortal;_disposeFn;attach(s,e){return this._attachedPortal=s,this.attachComponentPortal(s,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(s){this._disposeFn=s}},gi=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new w;_activate=new w;_manualClose=new w;_resetTimeout=new w;_countDuplicate=new w;constructor(s){this._overlayRef=s}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(s,e){s&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Ne=class{toastId;config;message;title;toastType;toastRef;_onTap=new w;_onAction=new w;constructor(s,e,t,i,o,r){this.toastId=s,this.config=e,this.message=t,this.title=i,this.toastType=o,this.toastRef=r,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(s){this._onAction.next(s)}onAction(){return this._onAction.asObservable()}},Ln={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},zn=new x("ToastConfig"),_i=class extends fi{_hostDomElement;_componentFactoryResolver;_appRef;constructor(s,e,t){super(),this._hostDomElement=s,this._componentFactoryResolver=e,this._appRef=t}attachComponentPortal(s,e){let t=this._componentFactoryResolver.resolveComponentFactory(s.component),i;return i=t.create(s.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(s){return s.hostView.rootNodes[0]}},gr=(()=>{class n{_document=a(H);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vi=class{_portalHost;constructor(s){this._portalHost=s}attach(s,e=!0){return this._portalHost.attach(s,e)}detach(){return this._portalHost.detach()}},_r=(()=>{class n{_overlayContainer=a(gr);_componentFactoryResolver=a(Ri);_appRef=a(at);_document=a(H);_paneElements=new Map;create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(e),i.classList.add("toast-container"),t?t.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(e){return new _i(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new vi(this._createPortalHost(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),je=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,t,i,o,r){this.overlay=t,this._injector=i,this.sanitizer=o,this.ngZone=r,this.toastrConfig=b(b({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=b(b({},e.default.iconClasses),e.config.iconClasses))}show(e,t,i={},o=""){return this._preBuildNotification(o,e,t,this.applyConfig(i))}success(e,t,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,t,this.applyConfig(i))}error(e,t,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,t,this.applyConfig(i))}info(e,t,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,t,this.applyConfig(i))}warning(e,t,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,t,this.applyConfig(i))}clear(e){for(let t of this.toasts)if(e!==void 0){if(t.toastId===e){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(e){let t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(e="",t="",i,o){let{includeTitleDuplicates:r}=this.toastrConfig;for(let c of this.toasts){let l=r&&c.title===e;if((!r||l)&&c.message===t)return c.toastRef.onDuplicate(i,o),c}return null}applyConfig(e={}){return b(b({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,i,o)):this._buildNotification(e,t,i,o)}_buildNotification(e,t,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let r=this.findDuplicate(i,t,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||t)&&this.toastrConfig.preventDuplicates&&r!==null)return r;this.previousToastMessage=t;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=t;t&&o.enableHtml&&(v=this.sanitizer.sanitize(me.HTML,t));let F=new gi(l),te=new Ne(this.index,o,v,i,e,F),Wt=[{provide:Ne,useValue:te}],mo=Me.create({providers:Wt,parent:this._injector}),po=new pi(o.toastComponent,mo),Ci=l.attach(po,o.newestOnTop);F.componentInstance=Ci.instance;let $t={toastId:this.index,title:i||"",message:t||"",toastRef:F,onShown:F.afterActivate(),onHidden:F.afterClosed(),onTap:te.onTap(),onAction:te.onAction(),portal:Ci};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$t.toastRef.activate()})),this.toasts.push($t),$t}static \u0275fac=function(t){return new(t||n)(y(zn),y(_r),y(Me),y(vt),y($e))};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vr=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Ge(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,i){this.toastrService=e,this.toastPackage=t,this.ngZone=i,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Ge({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>J(b({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>J(b({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>J(b({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(t){return new(t||n)(xe(je),xe(Ne),xe($e))};static \u0275cmp=k({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){t&1&&P("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),t&2&&(zi("@flyInOut",i._state),Q(i.toastClasses),Ye("display",i.displayStyle))},attrs:Fn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){t&1&&I(0,or,3,0,"button",0)(1,sr,3,5,"div",1)(2,ar,1,3,"div",2)(3,lr,2,4,"div",3)(4,cr,2,2,"div",4),t&2&&(_("ngIf",i.options.closeButton),d(),_("ngIf",i.title),d(),_("ngIf",i.message&&i.options.enableHtml),d(),_("ngIf",i.message&&!i.options.enableHtml),d(),_("ngIf",i.options.progressBar))},dependencies:[ti],encapsulation:2,data:{animation:[Ke("flyInOut",[Re("inactive",_e({opacity:0})),Re("active",_e({opacity:1})),Re("removed",_e({opacity:0})),we("inactive => active",De("{{ easeTime }}ms {{ easing }}")),we("active => removed",De("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),br=J(b({},Ln),{toastComponent:vr}),El=(n={})=>ki([{provide:zn,useValue:{default:br,config:n}}]);var yr=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Ge(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Ge("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,i){this.toastrService=e,this.toastPackage=t,this.appRef=i,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||n)(xe(je),xe(Ne),xe(at))};static \u0275cmp=k({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,i){t&1&&P("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),t&2&&(Q(i.toastClasses),Ye("display",i.displayStyle))},attrs:Fn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){t&1&&I(0,dr,3,0,"button",0)(1,ur,3,5,"div",1)(2,mr,1,3,"div",2)(3,pr,2,4,"div",3)(4,fr,2,2,"div",4),t&2&&(_("ngIf",i.options.closeButton),d(),_("ngIf",i.title),d(),_("ngIf",i.message&&i.options.enableHtml),d(),_("ngIf",i.message&&!i.options.enableHtml),d(),_("ngIf",i.options.progressBar))},dependencies:[ti],encapsulation:2,changeDetection:0})}return n})(),kl=J(b({},Ln),{toastComponent:yr});var xr=["*"],Dt;function Sr(){if(Dt===void 0&&(Dt=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Dt=n.trustedTypes.createPolicy("angular#components",{createHTML:s=>s}))}return Dt}function Qe(n){return Sr()?.createHTML(n)||n}function Nn(n){return Error(`Unable to find icon with the name "${n}"`)}function wr(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function jn(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Un(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var he=class{url;svgText;options;svgElement;constructor(s,e,t){this.url=s,this.svgText=e,this.options=t}},Cr=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,i,o){this._httpClient=e,this._sanitizer=t,this._errorHandler=o,this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,o){return this._addSvgIconConfig(e,t,new he(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,o){let r=this._sanitizer.sanitize(me.HTML,i);if(!r)throw Un(i);let c=Qe(r);return this._addSvgIconConfig(e,t,new he("",c,o))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new he(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let o=this._sanitizer.sanitize(me.HTML,t);if(!o)throw Un(t);let r=Qe(o);return this._addSvgIconSetConfig(e,new he("",r,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(me.RESOURCE_URL,e);if(!t)throw jn(e);let i=this._cachedIconsByUrl.get(t);return i?f(Rt(i)):this._loadSvgIconFromConfig(new he(e,null)).pipe(T(o=>this._cachedIconsByUrl.set(t,o)),C(o=>Rt(o)))}getNamedSvgIcon(e,t=""){let i=Vn(t,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(t,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):Z(Nn(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?f(Rt(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(C(t=>Rt(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return f(i);let o=t.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(U(c=>{let v=`Loading icon set URL: ${this._sanitizer.sanitize(me.RESOURCE_URL,r.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(v)),f(null)})));return Be(o).pipe(C(()=>{let r=this._extractIconWithNameFromAnySet(e,t);if(!r)throw Nn(e);return r}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let o=t[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let r=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(r,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(T(t=>e.svgText=t),C(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?f(null):this._fetchIcon(e).pipe(T(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let o=e.querySelector(`[id="${t}"]`);if(!o)return null;let r=o.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r,i);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r),i);let c=this._svgElementFromString(Qe("<svg></svg>"));return c.appendChild(r),this._setSvgAttributes(c,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(Qe("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:r,value:c}=i[o];r!=="id"&&t.setAttribute(r,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[o].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw wr();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let r=this._sanitizer.sanitize(me.RESOURCE_URL,t);if(!r)throw jn(t);let c=this._inProgressUrlFetches.get(r);if(c)return c;let l=this._httpClient.get(r,{responseType:"text",withCredentials:o}).pipe(C(v=>Qe(v)),nt(()=>this._inProgressUrlFetches.delete(r)),oe());return this._inProgressUrlFetches.set(r,l),l}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(Vn(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](t,e);if(o)return Tr(o)?new he(o.url,null,o.options):new he(o,null)}}static \u0275fac=function(t){return new(t||n)(y(_t,8),y(vt),y(H,8),y(rt))};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rt(n){return n.cloneNode(!0)}function Vn(n,s){return n+":"+s}function Tr(n){return!!(n.url&&n.options)}var Ir=new x("MAT_ICON_DEFAULT_OPTIONS"),Pr=new x("mat-icon-location",{providedIn:"root",factory:Or});function Or(){let n=a(H),s=n?n.location:null;return{getPathname:()=>s?s.pathname+s.search:""}}var Bn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Er=Bn.map(n=>`[${n}]`).join(", "),kr=/^url\(['"]?#(.*?)['"]?\)$/,Hn=(()=>{class n{_elementRef=a(se);_iconRegistry=a(Cr);_location=a(Pr);_errorHandler=a(rt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ti.EMPTY;constructor(){let e=a(new ot("aria-hidden"),{optional:!0}),t=a(Ir,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,o)=>{i.forEach(r=>{o.setAttribute(r.name,`url('${e}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(Er),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<t.length;o++)Bn.forEach(r=>{let c=t[o],l=c.getAttribute(r),v=l?l.match(kr):null;if(v){let F=i.get(c);F||(F=[],i.set(c,F)),F.push({name:r,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(ue(1)).subscribe(o=>this._setSvgElement(o),o=>{let r=`Error retrieving icon ${t}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(r))})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&(M("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Q(i.color?"mat-"+i.color:""),Se("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",R],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[pe],ngContentSelectors:xr,decls:1,vars:0,template:function(t,i){t&1&&(dt(),qe(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Wn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=X({type:n});static \u0275inj=K({imports:[de,de]})}return n})();var zt=go(Yn()),Lt=class{static encode(s){return(0,zt.fromByteArray)(jr(s)).replace(/[+/=]/g,e=>({"+":"-","/":"_","=":""})[e])}static decode(s){for(s=s.replace(/[-_]/g,e=>({"-":"+",_:"/"})[e]);s.length%4;)s+="=";return Ur((0,zt.toByteArray)(s))}};function jr(n){let s=[];for(let e=0;e<n.length;e++)s.push(n.charCodeAt(e));return s}function Ur(n){return String.fromCharCode(...n)}var Je={encode:Lt.encode,decode:Lt.decode};function qn(n){return n.substring(0,1).toUpperCase()+n.substring(1,n.length).toLowerCase()}function Ze(){return Math.ceil(new Date().getTime()/1e3)}function Kn(n){return Math.max(0,n-Ze())}function Nt(n){return Object.fromEntries(Object.entries(n).filter(([,s])=>s!=null))}function Pe(n){return!n||Object.keys(n).length===0}var Xn=(()=>{class n{constructor(){this.http=a(_t)}login(e,t,i=!1){return this.http.post("/api/auth/login",{username:e,password:t})}refresh(e){return this.http.post("/api/auth/refresh",e)}logout(){return this.http.post("/api/auth/logout",{})}user(e){let t="";return typeof e=="number"?t=`/api/usuarios/${e}`:t=`/api/usuarios/byUsername/${e}`,this.http.get(t).pipe(C(i=>i))}menu(){return f([{route:"dashboard",name:"Dashboard",type:"link",icon:"dashboard",badge:{color:"red-50",value:"1"}}])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ue=(()=>{class n{constructor(){this.menu$=new L([]),this.loadMenuData()}getAll(){return this.menu$.asObservable()}change(){return this.menu$.pipe(oe())}set(e){return this.menu$.next(e),this.menu$.asObservable()}add(e){let t=this.menu$.value;t.push(e),this.menu$.next(t)}reset(){this.menu$.next([])}buildRoute(e){let t="";return e.forEach(i=>{i&&i.trim()&&(t+="/"+i.replace(/^\/+|\/+$/g,""))}),t}getItemName(e){return this.getLevel(e)[e.length-1]}isLeafItem(e){let t=e.route===void 0,i=e.children===void 0,o=!i&&e.children?.length===0;return t||i||o}deepClone(e){return JSON.parse(JSON.stringify(e))}isJsonObjEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}isRouteEqual(e,t){return t=this.deepClone(t),t=t.filter(i=>i!==""),this.isJsonObjEqual(e,t)}getLevel(e){let t=[];return this.menu$.value.forEach(i=>{let o=[{item:i,parentNamePathList:[],realRouteArr:[]}];for(;o.length>0;){let r=[];for(let c of o){let l=c.item,v=this.deepClone(c.parentNamePathList).concat(l.name),F=this.deepClone(c.realRouteArr).concat(l.route);if(this.isRouteEqual(e,F)){t=v;break}if(!this.isLeafItem(l)){let te=l.children?.map(Wt=>({item:Wt,parentNamePathList:v,realRouteArr:F}));r=r.concat(te)}}o=r}}),t}addNamespace(e,t){e.forEach(i=>{i.translationKey=i.translationKey??`${t}.${i.name}`,i.children&&i.children.length>0&&this.addNamespace(i.children,t)})}loadMenuData(){try{this.set(this.menu$.value)}catch(e){console.error("Error setting menu data in MenuService:",e),this.set([])}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Br(n,s){if(n&1&&(h(0,"a",3),g(1),u()),n&2){let e=p().$implicit;d(),D(e)}}function Hr(n,s){if(n&1&&(h(0,"mat-icon",4),g(1,"chevron_right"),u(),h(2,"span"),g(3),mt(4,"translate"),u()),n&2){let e=p().$implicit;d(3),D(pt(4,1,e))}}function Wr(n,s){if(n&1&&(h(0,"li",2),I(1,Br,2,1,"a",3)(2,Hr,5,3),u()),n&2){let e=s.$index;d(),A(e===0?1:-1),d(),A(e!==0?2:-1)}}var Qn=(()=>{class n{constructor(){this.router=a(W),this.menu=a(Ue),this.nav=[],this.navItems=[]}trackByNavItem(e,t){return t}ngOnInit(){this.router.events.pipe(He(e=>e instanceof Ui),We(this.router)).subscribe(()=>{this.genBreadcrumb()})}genBreadcrumb(){let e=this.router.url.slice(1).split("/");this.nav.length>0?this.navItems=[...this.nav]:(this.navItems=this.menu.getLevel(e),this.navItems.unshift("home"))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["breadcrumb"]],inputs:{nav:"nav"},decls:4,vars:0,consts:[["aria-label","breadcrumb"],[1,"matero-breadcrumb"],[1,"matero-breadcrumb-item"],["href","#",1,"link"],[1,"chevron"]],template:function(t,i){t&1&&(h(0,"nav",0)(1,"ol",1),lt(2,Wr,3,2,"li",2,i.trackByNavItem,!0),u()()),t&2&&(d(2),ct(i.navItems))},dependencies:[Wn,Hn,Pt,It],styles:[`.matero-breadcrumb{display:flex;flex-wrap:wrap;padding:0;margin-bottom:1rem;font-size:.875rem;list-style:none}.matero-breadcrumb-item{line-height:1.125rem;text-transform:capitalize}.matero-breadcrumb-item>*{vertical-align:middle}.matero-breadcrumb-item>a.link{color:currentColor;text-decoration:none}.matero-breadcrumb-item>a.link:hover{color:currentColor;text-decoration:underline}.matero-breadcrumb-item>.chevron{width:1.125rem;height:1.125rem;font-size:1.125rem;-webkit-user-select:none;user-select:none}
`],encapsulation:2})}}return n})();function $r(n,s){if(n&1&&(h(0,"div",2),g(1),u()),n&2){let e=p();d(),D(e.title)}}function Gr(n,s){if(n&1&&(h(0,"div",3),g(1),u()),n&2){let e=p();d(),D(e.message)}}var fc=(()=>{class n{constructor(){this.code="",this.title="",this.message=""}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["error-code"]],inputs:{code:"code",title:"title",message:"message"},decls:8,vars:3,consts:[[1,"matero-error-wrap"],[1,"matero-error-code"],[1,"matero-error-title"],[1,"matero-error-message"],["mat-raised-button","","color","primary","routerLink","/"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"div",1),g(2),u(),I(3,$r,2,1,"div",2)(4,Gr,2,1,"div",3),h(5,"div")(6,"a",4),g(7,"Back to Home"),u()()()),t&2&&(d(2),D(i.code),d(),A(i.title?3:-1),d(),A(i.message?4:-1))},dependencies:[Vi,St,on],styles:[`.matero-error-wrap{text-align:center}.matero-error-code{padding:1.25rem 0;font-size:10rem;text-shadow:.1325825215rem .1325825215rem 0 rgba(0,0,0,.028575),.2651650429rem .2651650429rem 0 rgba(0,0,0,.02715),.3977475644rem .3977475644rem 0 rgba(0,0,0,.025725),.5303300859rem .5303300859rem 0 rgba(0,0,0,.0243),.6629126074rem .6629126074rem 0 rgba(0,0,0,.022875),.7954951288rem .7954951288rem 0 rgba(0,0,0,.02145),.9280776503rem .9280776503rem 0 rgba(0,0,0,.020025),1.0606601718rem 1.0606601718rem 0 rgba(0,0,0,.0186),1.1932426933rem 1.1932426933rem 0 rgba(0,0,0,.017175),1.3258252147rem 1.3258252147rem 0 rgba(0,0,0,.01575),1.4584077362rem 1.4584077362rem 0 rgba(0,0,0,.014325),1.5909902577rem 1.5909902577rem 0 rgba(0,0,0,.0129),1.7235727791rem 1.7235727791rem 0 rgba(0,0,0,.011475),1.8561553006rem 1.8561553006rem 0 rgba(0,0,0,.01005),1.9887378221rem 1.9887378221rem 0 rgba(0,0,0,.008625),2.1213203436rem 2.1213203436rem 0 rgba(0,0,0,.0072),2.253902865rem 2.253902865rem 0 rgba(0,0,0,.005775),2.3864853865rem 2.3864853865rem 0 rgba(0,0,0,.00435),2.519067908rem 2.519067908rem 0 rgba(0,0,0,.002925),2.6516504294rem 2.6516504294rem 0 rgba(0,0,0,.0015)}.matero-error-title{margin:0 0 1rem;font-size:1.25rem;font-weight:500;line-height:2rem}.matero-error-message{margin:0 0 1rem;font-size:1rem;font-weight:400;line-height:1.75rem}
`],encapsulation:2})}}return n})();var Tc=(()=>{class n{constructor(){this.ngControl=a(Tt,{optional:!0}),this.disableControl=!1}ngOnChanges(){this.disableControl?this.ngControl?.control?.disable():this.ngControl?.control?.enable()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"},features:[ke]})}}return n})();var Jn=(()=>{class n{constructor(){this.messages=[]}add(e){this.messages.push(e)}clear(){this.messages=[]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ve=(()=>{class n{get(e){let t=localStorage.getItem(e);try{return t?JSON.parse(t):null}catch(i){return console.error(`LocalStorageService: Error parsing key ${e}`,i),null}}set(e,t){return localStorage.setItem(e,JSON.stringify(t)),!0}has(e){return!!localStorage.getItem(e)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jt=(()=>{class n{get(e){return JSON.parse(sessionStorage.getItem(e)||"{}")||{}}set(e,t){return sessionStorage.setItem(e,JSON.stringify(t)),!0}has(e){return!!sessionStorage.getItem(e)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vc=(()=>{class n{constructor(){this.translate=a(Fe),this.paginatorIntl=new Le,this.translate.onLangChange.subscribe(e=>this.getPaginatorIntl())}getPaginatorIntl(){return this.paginatorIntl.itemsPerPageLabel=this.translate.instant("paginator.items_per_page_label"),this.paginatorIntl.previousPageLabel=this.translate.instant("paginator.previous_page_label"),this.paginatorIntl.nextPageLabel=this.translate.instant("paginator.next_page_label"),this.paginatorIntl.firstPageLabel=this.translate.instant("paginator.first_page_label"),this.paginatorIntl.lastPageLabel=this.translate.instant("paginator.last_page_label"),this.paginatorIntl.getRangeLabel=this.getRangeLabel.bind(this),this.paginatorIntl.changes.next(),this.paginatorIntl}getRangeLabel(e,t,i){if(i===0||t===0)return this.translate.instant("paginator.range_page_label_1",{length:i});i=Math.max(i,0);let o=e*t,r=o<i?Math.min(o+t,i):o+t;return this.translate.instant("paginator.range_page_label_2",{startIndex:o+1,endIndex:r,length:i})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yi=class{constructor(s){this.attributes=s}get access_token(){return this.attributes.access_token}get refresh_token(){return this.attributes.refresh_token}get token_type(){return this.attributes.token_type??"bearer"}get exp(){return this.attributes.exp}valid(){return this.hasAccessToken()&&!this.isExpired()}getBearerToken(){return this.access_token?[qn(this.token_type),this.access_token].join(" ").trim():""}needRefresh(){return this.exp!==void 0&&this.exp>=0}getRefreshTime(){return Kn((this.exp??0)-5)}hasAccessToken(){return!!this.access_token}isExpired(){return this.exp!==void 0&&this.exp-Ze()<=0}},et=class extends yi{},tt=class extends et{static is(s){try{let[e]=s.split(".");return JSON.parse(Je.decode(e)).typ.toUpperCase().includes("JWT")}catch{return!1}}get exp(){return this.payload?.exp}get payload(){if(!this.access_token)return{};if(this._payload)return this._payload;let[,s]=this.access_token.split("."),e=JSON.parse(Je.decode(s));return e.exp||(e.exp=this.attributes.exp),this._payload=e}};var Zn=(()=>{class n{create(e){if(e.access_token)return tt.is(e.access_token)?new tt(e):new et(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ut=(()=>{class n{constructor(){this.key="app-token",this.store=a(Ve),this.sessionStore=a(jt),this.factory=a(Zn),this.change$=new L(void 0),this.refresh$=new w}get token(){if(!this._token){let e=this.store.get(this.key);(!e||Object.keys(e).length===0)&&(e=this.sessionStore.get(this.key)),this._token=this.factory.create(e)}return this._token}change(){return this.change$.pipe(oe())}refresh(){return this.buildRefresh(),this.refresh$.pipe(oe())}set(e,t=!0){return this.save(e,t),this}clear(){this.save()}valid(){return this.token?.valid()??!1}getBearerToken(){return this.token?.getBearerToken()??""}getRefreshToken(){return this.token?.refresh_token}getUserId(){let e=this.token?.access_token;if(e)try{let t=JSON.parse(Je.decode(e.split(".")[1])),i=t.sub||t.userId;if(i&&typeof i=="string"&&i.includes(":")){let o=i.split(":"),r=o[o.length-1];return isNaN(Number(r))?r:Number(r)}return i}catch(t){console.error("Error decoding access token:",t)}}ngOnDestroy(){this.clearRefresh()}save(e,t=!0){if(this._token=void 0,!e)this.store.remove(this.key),this.sessionStore.remove(this.key);else{let i=Object.assign({access_token:"",token_type:"Bearer"},e,{exp:e.expires_in?Ze()+e.expires_in:null}),o=Nt(i);t?(this.store.set(this.key,o),this.sessionStore.remove(this.key)):(this.sessionStore.set(this.key,o),this.store.remove(this.key))}this.change$.next(this.token),this.buildRefresh()}buildRefresh(){this.clearRefresh(),this.token?.needRefresh()&&(this.timer$=Oi(this.token.getRefreshTime()*1e3).subscribe(()=>{this.refresh$.next(this.token)}))}clearRefresh(){this.timer$&&!this.timer$.closed&&this.timer$.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vt=(()=>{class n{constructor(){this.loginService=a(Xn),this.tokenService=a(Ut),this.localStorage=a(Ve),this.sessionStorage=a(jt),this.user$=new L({}),this.USER_STORAGE_KEY="currentUserData",this.change$=ne(this.tokenService.change().pipe(it()),this.tokenService.refresh().pipe(q(()=>this.refresh()))).pipe(q(()=>this.assignUser()),oe()),this.loadUserDataFromStorage(),this.change$.subscribe()}init(){return new Promise(e=>{this.change$.pipe(ue(1)).subscribe(()=>e())})}change(){return this.user$.asObservable()}check(){return this.tokenService.valid()}login(e,t,i=!1){return this.loginService.login(e,t,i).pipe(T(o=>{this.tokenService.set({access_token:o.token},i),o.user?(this.saveUserData(o.user,i),this.user$.next(o.user)):(this.clearUserData(),this.user$.next({}),console.warn("AuthService: Login bem-sucedido, mas dados do usu\xE1rio n\xE3o retornados pela API."))}),C(()=>this.check()))}refresh(){return this.loginService.refresh(Nt({refresh_token:this.tokenService.getRefreshToken()})).pipe(U(()=>(console.error("AuthService: Falha ao refrescar token."),this.logout().subscribe(),f(void 0))),T(e=>{e&&this.tokenService.set(e)}),C(()=>this.check()))}logout(){return this.loginService.logout().pipe(T(()=>{this.tokenService.clear(),this.clearUserData(),this.user$.next({})}),C(()=>!this.check()),U(e=>(console.error("AuthService: Erro durante o logout (no backend). Limpando localmente.",e),this.tokenService.clear(),this.clearUserData(),this.user$.next({}),f(!1))))}user(){return this.user$}getCurrentUserValue(){return this.user$.getValue()}menu(){return f([{route:"dashboard",name:"Dashboard",translationKey:"menu.Dashboard",type:"link",icon:"dashboard",permissions:{}},{route:"assets/stats",name:"Dados de Ativos",translationKey:"menu.Estatisticas",type:"link",icon:"assessment",permissions:{}},{route:"ia/assistant",name:"Assistente IA",translationKey:"menu.AssistenteIA",type:"link",icon:"adb",permissions:{}},{route:"utilities/ferramentas",name:"Ferramentas",translationKey:"menu.Utilidades",type:"link",icon:"build",permissions:{}},{route:"historico/dados",name:"Hist\xF3rico",translationKey:"menu.Historico",type:"link",icon:"calendar_today",permissions:{}}])}saveUserData(e,t=!0){try{t?(this.localStorage.set(this.USER_STORAGE_KEY,e),this.sessionStorage.remove(this.USER_STORAGE_KEY)):(this.sessionStorage.set(this.USER_STORAGE_KEY,e),this.localStorage.remove(this.USER_STORAGE_KEY))}catch(i){console.error("AuthService: Erro ao guardar dados do utilizador",i)}}loadUserDataFromStorage(){try{let e=this.localStorage.get(this.USER_STORAGE_KEY);Pe(e)&&(e=this.sessionStorage.get(this.USER_STORAGE_KEY)),e&&!Pe(e)?this.user$.next(e):(console.warn("AuthService: Dados do utilizador no localStorage inv\xE1lidos ou incompletos."),this.clearUserData())}catch(e){console.error("AuthService: Erro ao carregar dados do utilizador",e),this.clearUserData()}Pe(this.user$.getValue())&&this.user$.next({})}clearUserData(){this.localStorage.remove(this.USER_STORAGE_KEY),this.sessionStorage.remove(this.USER_STORAGE_KEY)}assignUser(){if(this.check())if(Pe(this.user$.getValue()))if(this.loadUserDataFromStorage(),Pe(this.user$.getValue())){console.error("AuthService: N\xE3o foi poss\xEDvel obter dados do utilizador. Implementar busca da API ou garantir que a API de login retorne os dados.");let e=this.tokenService.getUserId();return e!==void 0?this.loginService.user(e).pipe(T(t=>{t&&!Pe(t)?(this.saveUserData(t),this.user$.next(t)):(console.warn("AuthService: Dados do utilizador da API inv\xE1lidos ou incompletos."),this.clearUserData(),this.user$.next({}))}),U(t=>(console.error("AuthService: Erro ao buscar dados do utilizador da API:",t),this.clearUserData(),this.user$.next({}),f({})))):f(this.user$.getValue())}else return f(this.user$.getValue());else return f(this.user$.getValue());else return this.clearUserData(),this.user$.next({}),f({})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Od=(n,s)=>{let e=a(Vt),t=a(W);return e.check()?!0:t.parseUrl("/auth/login")};function ve(n){return(s={})=>{let e=s.width?String(s.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}function G(n){return(s,e)=>{let t=e?.context?String(e.context):"standalone",i;if(t==="formatting"&&n.formattingValues){let r=n.defaultFormattingWidth||n.defaultWidth,c=e?.width?String(e.width):r;i=n.formattingValues[c]||n.formattingValues[r]}else{let r=n.defaultWidth,c=e?.width?String(e.width):n.defaultWidth;i=n.values[c]||n.values[r]}let o=n.argumentCallback?n.argumentCallback(s):s;return i[o]}}function Y(n){return(s,e={})=>{let t=e.width,i=t&&n.matchPatterns[t]||n.matchPatterns[n.defaultMatchWidth],o=s.match(i);if(!o)return null;let r=o[0],c=t&&n.parsePatterns[t]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(c)?qr(c,te=>te.test(r)):Yr(c,te=>te.test(r)),v;v=n.valueCallback?n.valueCallback(l):l,v=e.valueCallback?e.valueCallback(v):v;let F=s.slice(r.length);return{value:v,rest:F}}}function Yr(n,s){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&s(n[e]))return e}function qr(n,s){for(let e=0;e<n.length;e++)if(s(n[e]))return e}function Bt(n){return(s,e={})=>{let t=s.match(n.matchPattern);if(!t)return null;let i=t[0],o=s.match(n.parsePattern);if(!o)return null;let r=n.valueCallback?n.valueCallback(o[0]):o[0];r=e.valueCallback?e.valueCallback(r):r;let c=s.slice(i.length);return{value:r,rest:c}}}var Kr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eo=(n,s,e)=>{let t,i=Kr[n];return typeof i=="string"?t=i:s===1?t=i.one:t=i.other.replace("{{count}}",s.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};var Xr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},to=(n,s,e,t)=>Xr[n];var Qr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},es={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ts={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},is={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ns=(n,s)=>{let e=Number(n),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},io={ordinalNumber:ns,era:G({values:Qr,defaultWidth:"wide"}),quarter:G({values:Jr,defaultWidth:"wide",argumentCallback:n=>n-1}),month:G({values:Zr,defaultWidth:"wide"}),day:G({values:es,defaultWidth:"wide"}),dayPeriod:G({values:ts,defaultWidth:"wide",formattingValues:is,defaultFormattingWidth:"wide"})};var os=/^(\d+)(th|st|nd|rd)?/i,rs=/\d+/i,ss={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},as={any:[/^b/i,/^(a|c)/i]},ls={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cs={any:[/1/i,/2/i,/3/i,/4/i]},ds={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},us={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ms={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ps={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},no={ordinalNumber:Bt({matchPattern:os,parsePattern:rs,valueCallback:n=>parseInt(n,10)}),era:Y({matchPatterns:ss,defaultMatchWidth:"wide",parsePatterns:as,defaultParseWidth:"any"}),quarter:Y({matchPatterns:ls,defaultMatchWidth:"wide",parsePatterns:cs,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Y({matchPatterns:ds,defaultMatchWidth:"wide",parsePatterns:hs,defaultParseWidth:"any"}),day:Y({matchPatterns:us,defaultMatchWidth:"wide",parsePatterns:ms,defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:ps,defaultMatchWidth:"any",parsePatterns:fs,defaultParseWidth:"any"})};var gs={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_s={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vs={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oo={date:ve({formats:gs,defaultWidth:"full"}),time:ve({formats:_s,defaultWidth:"full"}),dateTime:ve({formats:vs,defaultWidth:"full"})};var ro={code:"en-US",formatDistance:eo,formatLong:oo,formatRelative:to,localize:io,match:no,options:{weekStartsOn:0,firstWeekContainsDate:1}};var bs={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m\xEAs",other:"cerca de {{count}} meses"},xMonths:{one:"1 m\xEAs",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},so=(n,s,e)=>{let t,i=bs[n];return typeof i=="string"?t=i:s===1?t=i.one:t=i.other.replace("{{count}}",String(s)),e?.addSuffix?e.comparison&&e.comparison>0?"em "+t:"h\xE1 "+t:t};var ys={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},xs={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ss={full:"{{date}} '\xE0s' {{time}}",long:"{{date}} '\xE0s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ao={date:ve({formats:ys,defaultWidth:"full"}),time:ve({formats:xs,defaultWidth:"full"}),dateTime:ve({formats:Ss,defaultWidth:"full"})};var ws={lastWeek:n=>{let s=n.getDay();return"'"+(s===0||s===6?"\xFAltimo":"\xFAltima")+"' eeee '\xE0s' p"},yesterday:"'ontem \xE0s' p",today:"'hoje \xE0s' p",tomorrow:"'amanh\xE3 \xE0s' p",nextWeek:"eeee '\xE0s' p",other:"P"},lo=(n,s,e,t)=>{let i=ws[n];return typeof i=="function"?i(s):i};var Cs={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Ts={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},Is={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ps={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter\xE7a","quarta","quinta","sexta","s\xE1bado"],wide:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"]},Os={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh\xE3",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xE3",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xE3",afternoon:"tarde",evening:"tarde",night:"noite"}},Es={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh\xE3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xE3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xE3",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ks=(n,s)=>{let e=Number(n);return s?.unit==="week"?e+"\xAA":e+"\xBA"},co={ordinalNumber:ks,era:G({values:Cs,defaultWidth:"wide"}),quarter:G({values:Ts,defaultWidth:"wide",argumentCallback:n=>n-1}),month:G({values:Is,defaultWidth:"wide"}),day:G({values:Ps,defaultWidth:"wide"}),dayPeriod:G({values:Os,defaultWidth:"wide",formattingValues:Es,defaultFormattingWidth:"wide"})};var Ms=/^(\d+)[o]?/i,As=/\d+/i,Ds={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Rs={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Fs={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Ls={any:[/1/i,/2/i,/3/i,/4/i]},zs={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Ns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},js={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Us={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Vs={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Bs={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},ho={ordinalNumber:Bt({matchPattern:Ms,parsePattern:As,valueCallback:n=>parseInt(n,10)}),era:Y({matchPatterns:Ds,defaultMatchWidth:"wide",parsePatterns:Rs,defaultParseWidth:"any"}),quarter:Y({matchPatterns:Fs,defaultMatchWidth:"wide",parsePatterns:Ls,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Y({matchPatterns:zs,defaultMatchWidth:"wide",parsePatterns:Ns,defaultParseWidth:"any"}),day:Y({matchPatterns:js,defaultMatchWidth:"wide",parsePatterns:Us,defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:Vs,defaultMatchWidth:"any",parsePatterns:Bs,defaultParseWidth:"any"})};var uo={code:"pt-BR",formatDistance:so,formatLong:ao,formatRelative:lo,localize:co,match:ho,options:{weekStartsOn:0,firstWeekContainsDate:1}};var xi={navPos:"side",theme:"auto",showHeader:!0,headerPos:"fixed",showUserPanel:!0,sidenavOpened:!0,sidenavCollapsed:!1,language:"auto"};var Ht=(()=>{class n{get notify(){return this.notify$.asObservable()}constructor(){this.key="",this.document=a(H),this.translate=a(Fe),this.store=a(Ve),this.mediaMatcher=a(Wi),this.notify$=new L({}),this.htmlElement=this.document.querySelector("html"),this.storedOptions=this.store.get(this.key),this.options=Object.assign(xi,this.storedOptions),this.languages=["en-US","pt-BR"],this.localeMap={"en-US":ro,"pt-BR":uo},this.translate.addLangs(this.languages)}reset(){this.store.remove(this.key)}setOptions(e){this.options=Object.assign(xi,this.options,e),this.store.set(this.key,this.options),this.notify$.next(this.options)}getThemeColor(){return this.options.theme==="auto"&&this.mediaMatcher.matchMedia("(prefers-color-scheme)").media!=="not all"?this.mediaMatcher.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":this.options.theme}setTheme(e){e&&this.setOptions({theme:e}),this.getThemeColor()==="dark"?this.htmlElement.classList.add("theme-dark"):this.htmlElement.classList.remove("theme-dark")}getTranslateLang(){if(this.options.language==="auto"){let e=navigator.language;return this.languages.includes(e)?e:"pt-BR"}return this.options.language}setLanguage(e){e&&this.setOptions({language:e}),this.translate.use(this.getTranslateLang())}getLocale(){return this.localeMap[this.getTranslateLang()]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lh=(()=>{class n{constructor(){this.authService=a(Vt),this.menuService=a(Ue),this.permissonsService=a(Te),this.rolesService=a(ze)}load(){return new Promise((e,t)=>{this.authService.change().pipe(T(i=>{i&&this.setPermissions(i)}),q(()=>this.authService.menu()),T(i=>{this.setMenu(i)})).subscribe({next:()=>e(),error:()=>e()})})}setMenu(e){this.menuService.addNamespace(e,"menu"),this.menuService.set(e)}setPermissions(e){let t=["canAdd","canDelete","canEdit","canRead"];this.permissonsService.loadPermissions(t),this.rolesService.flushRoles(),this.rolesService.addRoles({ADMIN:t})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vh=(()=>{class n{constructor(){this.document=a(H),this.selector="globalLoader"}getElement(){return this.document.getElementById(this.selector)}hide(){let e=this.getElement();e&&(e.addEventListener("transitionend",()=>{e.className="global-loader-hidden"}),e.classList.contains("global-loader-hidden")||(e.className+=" global-loader-fade-out"))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yh=(()=>{class n{constructor(){this.translate=a(Fe),this.settings=a(Ht)}load(){return new Promise(e=>{let t=this.settings.getTranslateLang();this.translate.setDefaultLang(t),this.translate.use(t).subscribe({next:()=>console.log(`Successfully initialized '${t}' language.'`),error:()=>console.error(`Problem with '${t}' language initialization.'`),complete:()=>e()})})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tu(n,s){return s(n)}var Si=new x("BASE_URL"),Hs=new x("AUTH_URL");function wi(n){return new RegExp("^http(s)?://","i").test(n)}function Ws(n,s){return`${n.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}function ou(n,s){let e=a(Si,{optional:!0}),t=a(Hs,{optional:!0}),i=n.url;if(!wi(i)){let o,r=i;if(i.startsWith("/api/auth/")&&t&&(o=t),i.startsWith("/api/")&&e&&!o&&(o=e),o){let v=Ws(o,r);return s(n.clone({url:v}))}else return s(n)}return s(n)}function lu(n,s){let e=a(Ht);return s(n.clone({headers:n.headers.append("Accept-Language",e.getTranslateLang())}))}function fu(n,s){let e=a(W),t=a(Si,{optional:!0}),i=a(Ut),o=l=>t?new RegExp(`^${t.replace(/\/$/,"")}`,"i").test(l):!1,r=l=>!wi(l)||o(l),c=()=>{n.url.includes("/auth/logout")&&e.navigateByUrl("/auth/login"),e.url.includes("/auth/login")&&e.navigateByUrl("/dashboard")};return i.valid()&&r(n.url)?s(n.clone({headers:n.headers.append("Authorization",i.getBearerToken()),withCredentials:!0})).pipe(U(l=>(l.status===401&&i.clear(),Z(()=>l))),T(()=>c())):s(n).pipe(T(()=>c()))}function xu(n,s){let e=a(je);return n.url.includes("/api/")?s(n).pipe(ie(t=>{if(t instanceof gt){let i=t.body;if(i&&"code"in i&&i.code!==0)return i.msg&&e.error(i.msg),Z(()=>[])}return f(t)})):s(n)}var Oe=function(n){return n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",n}(Oe||{});function Pu(n,s){let e=a(W),t=a(je),i=[Oe.FORBIDDEN,Oe.NOT_FOUND,Oe.INTERNAL_SERVER_ERROR],o=l=>l.url.includes("/api/auth/login"),r=l=>l.url.includes("/api/avatars/"),c=l=>l.error?.message?l.error.message:l.error?.msg?l.error.msg:l.message.includes("SyntaxError: Unexpected token")?"Erro de comunica\xE7\xE3o com o servidor. Verifique sua conex\xE3o ou tente novamente.":`Erro ${l.status}: ${l.statusText}`;return s(n).pipe(U(l=>(console.error(`HTTP Error: ${l.status} ${l.statusText}`,{url:l.url,error:typeof l.error=="string"?l.error.substring(0,200):l.error,message:l.message,headers:n.headers,requestBody:n.body}),l.status===Oe.NOT_FOUND&&r(n)?(console.warn("Error Interceptor: Caught 404 for avatar request. Letting component handle it."),Z(()=>l)):l.status===Oe.UNAUTHORIZED&&o(n)?(console.warn("Error Interceptor: Caught 401 for login request. Letting component handle it."),Z(()=>l)):(i.includes(l.status)?(e.navigateByUrl(`/${l.status}`,{skipLocationChange:!0}),t.error(c(l),"Erro")):l.status===Oe.UNAUTHORIZED?t.error("Sess\xE3o expirada ou n\xE3o autorizada. Por favor, fa\xE7a login novamente.","N\xE3o Autorizado"):t.error(c(l),"Erro"),Z(()=>l)))))}function Du(n,s){let e=a(Jn),t=Date.now(),i;return s(n).pipe(T({next:o=>i=o instanceof gt?"succeeded":"",error:o=>i="failed"}),nt(()=>{let o=Date.now()-t,r=`${n.method} "${n.urlWithParams}" ${i} in ${o} ms.`;e.add(r)}))}function $s(n,s){if(n&1&&N(0,"breadcrumb",2),n&2){let e=p();_("nav",e.nav)}}var im=(()=>{class n{constructor(){this.router=a(W),this.menu=a(Ue),this.title="",this.subtitle="",this.nav=[],this.hideBreadcrumb=!1}ngOnInit(){let e=this.router.url.slice(1).split("/"),t=this.menu.getLevel(e);this.title=this.title||t[t.length-1]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["page-header"]],hostAttrs:[1,"matero-page-header"],inputs:{title:"title",subtitle:"subtitle",nav:"nav",hideBreadcrumb:[2,"hideBreadcrumb","hideBreadcrumb",R]},features:[pe],decls:7,vars:5,consts:[[1,"matero-page-header-inner"],[1,"matero-page-title"],[3,"nav"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"h1",1),g(2),mt(3,"translate"),h(4,"small"),g(5),u()(),I(6,$s,1,1,"breadcrumb",2),u()),t&2&&(d(2),V("",pt(3,3,i.title)," "),d(3),D(i.subtitle),d(),A(i.hideBreadcrumb?-1:6))},dependencies:[Qn,Pt,It],styles:[`.matero-page-header{display:block;padding:1rem;margin-bottom:1rem;color:var(--mat-sys-on-primary);background-color:var(--mat-sys-primary);border-radius:var(--mat-sys-corner-medium)}.matero-page-header .matero-breadcrumb{margin-top:.5rem;margin-bottom:0}.matero-page-title{margin:0;font-size:1.5rem;font-weight:400}
`],encapsulation:2})}}return n})();export{ro as a,wn as b,ga as c,Cn as d,En as e,kn as f,Le as g,er as h,tl as i,ml as j,pl as k,je as l,El as m,Hn as n,Wn as o,Ue as p,fc as q,im as r,Tc as s,Ve as t,Vc as u,Vt as v,Od as w,Ht as x,Lh as y,Vh as z,Yh as A,tu as B,Si as C,Hs as D,ou as E,lu as F,fu as G,xu as H,Pu as I,Du as J};
