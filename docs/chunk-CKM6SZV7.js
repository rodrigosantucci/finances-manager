import{g as Qe,h as ti,l as ei,m as ii,o as oi}from"./chunk-CV7A7DKG.js";import{b as je,d as Ue,h as qe,j as Ke}from"./chunk-MITE5FOG.js";import{c as ni,d as ri}from"./chunk-PZS6GOXH.js";import{g as Ge}from"./chunk-5P6ITYAM.js";import{i as Je}from"./chunk-4DWRPICO.js";import{a as Ye,b as Xe}from"./chunk-YVHZCXB6.js";import{e as Ze}from"./chunk-XCRADZUQ.js";import{b as Be}from"./chunk-O2WSWSLF.js";import{Bb as He,Cb as Le,Cc as Re,Dc as We,Fb as De,Ha as Ee,Hc as ke,Ib as Ve,Jb as Pe,Ma as Ce,Oa as Se,Qb as Ne,Ua as _e,Wb as Oe,_a as $e,b as be,bb as ze,gc as Ae,jc as Ie,lc as Fe,sa as Te}from"./chunk-APQMPW3M.js";import{Ab as de,Cc as st,Dc as ve,Ec as we,Gb as fe,Hb as ue,Hc as xe,Ic as ye,Jc as Me,K as le,Nb as jt,Ub as Et,Vb as Ut,a as rt,ac as qt,b as Bt,cc as pe,da as he,dc as me,ec as ge,fc as F,gc as U,hc as Ct,ja as ce,m as se,oa as ut,oc as St,qc as pt,sb as J,t as ae}from"./chunk-PGMU4RYJ.js";var si=function(t,i){return new si.fn.init(t,i)},a=si;var b=window.document,D=[],li=D.concat,_t=D.filter,k=D.slice,$t={},zt={},hi={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Yt=/^\s*<(\w+|!)[^>]*>/,ci=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Xt=/^(?:body|html)$/i;var fi=["val","css","html","text","data","width","height","offset"],Zt=b.createElement("table"),ai=b.createElement("tr"),Gt={tr:b.createElement("tbody"),tbody:Zt,thead:Zt,tfoot:Zt,td:ai,th:ai,"*":b.createElement("div")},ui=/^[\w-]*$/,mt={},pi=mt.toString,Kt=b.createElement("div");var Q=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},q=b.documentElement.contains?function(t,i){return t!==i&&t.contains(i)}:function(t,i){for(;i&&(i=i.parentNode);)if(i===t)return!0;return!1};function tt(t){return t==null?String(t):mt[pi.call(t)]||"object"}function at(t){return typeof t=="string"}function P(t){return tt(t)=="function"}function et(t){return t!=null&&t==t.window}function Ht(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function Z(t){return tt(t)=="object"}function Y(t){return Z(t)&&!et(t)&&Object.getPrototypeOf(t)==Object.prototype}function Lt(t){var i=!!t&&"length"in t&&t.length,e=tt(t);return e!="function"&&!et(t)&&(e=="array"||i===0||typeof i=="number"&&i>0&&i-1 in t)}function mi(t){return _t.call(t,function(i){return i!=null})}function lt(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Jt(t,i){return typeof i=="number"&&!hi[lt(t)]?i+"px":i}function Dt(t){return t.replace(/-+(.)?/g,function(i,e){return e?e.toUpperCase():""})}function Qt(t){return t in zt?zt[t]:zt[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function gi(t){var i,e;return $t[t]||(i=b.createElement(t),b.body.appendChild(i),e=getComputedStyle(i,"").getPropertyValue("display"),i.parentNode.removeChild(i),e=="none"&&(e="block"),$t[t]=e),$t[t]}function vi(t){return t.length>0?a.fn.concat.apply([],t):t}function ht(t){return t instanceof a}function O(t,i,e,o){return P(i)?i.call(t,e,o):i}function Vt(t,i,e){e==null?t.removeAttribute(i):t.setAttribute(i,e)}function it(t,i){var e=t.className||"",o=e&&e.baseVal!==void 0;if(i===void 0)return o?e.baseVal:e;o?e.baseVal=i:t.className=i}function wi(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}a.fn=a.prototype={constuctor:a,length:0,forEach:D.forEach,reduce:D.reduce,push:D.push,sort:D.sort,splice:D.splice,indexOf:D.indexOf,init:function(t,i){var e;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Yt.test(t))e=a.fragment(t,RegExp.$1,i),t=null;else{if(i!==void 0)return a(i).find(t);e=a.qsa(b,t)}else{if(P(t))return a(b).ready(t);if(ht(t))return t;if(Q(t))e=mi(t);else if(Z(t))e=[t],t=null;else{if(i!==void 0)return a(i).find(t);e=a.qsa(b,t)}}else return this;return a.makeArray(e,t,this)},concat:function(){var t,i,e=[];for(t=0;t<arguments.length;t++)i=arguments[t],e[t]=ht(i)?i.toArray():i;return li.apply(ht(this)?this.toArray():this,e)},pluck:function(t){return a.map(this,function(i){return i[t]})},toArray:function(){return this.get()},get:function(t){return t===void 0?k.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},each:function(t){return D.every.call(this,function(i,e){return t.call(i,e,i)!==!1}),this},map:function(t){return a(a.map(this,function(i,e){return t.call(i,e,i)}))},slice:function(){return a(k.apply(this,arguments))},first:function(){var t=this[0];return t&&!Z(t)?t:a(t)},last:function(){var t=this[this.length-1];return t&&!Z(t)?t:a(t)},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)}};a.extend=a.fn.extend=function(){var t,i,e,o,n,r,s=arguments[0]||{},l=1,h=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[l]||{},l++),typeof s!="object"&&!P(s)&&(s={}),l===h&&(s=this,l--);l<h;l++)if((t=arguments[l])!=null)for(i in t)e=s[i],o=t[i],s!==o&&(f&&o&&(Y(o)||(n=Q(o)))?(n?(n=!1,r=e&&Q(e)?e:[]):r=e&&Y(e)?e:{},s[i]=a.extend(f,r,o)):o!==void 0&&(s[i]=o));return s};a.extend({makeArray:function(t,i,e){var o,n=t?t.length:0;for(o=0;o<n;o++)e[o]=t[o];return e.length=n,e.selector=i||"",e},merge:function(t,i){for(var e=+i.length,o=0,n=t.length;o<e;o++)t[n++]=i[o];return t.length=n,t},qsa:function(t,i){var e,o=i[0]=="#",n=!o&&i[0]==".",r=o||n?i.slice(1):i,s=ui.test(r);return t.getElementById&&s&&o?(e=t.getElementById(r))?[e]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:k.call(s&&!o&&t.getElementsByClassName?n?t.getElementsByClassName(r):t.getElementsByTagName(i):t.querySelectorAll(i))},fragment:function(t,i,e){var o,n,r;return ci.test(t)&&(o=a(b.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(di,"<$1></$2>")),i===void 0&&(i=Yt.test(t)&&RegExp.$1),i in Gt||(i="*"),r=Gt[i],r.innerHTML=""+t,o=a.each(k.call(r.childNodes),function(){r.removeChild(this)})),Y(e)&&(n=a(o),a.each(e,function(s,l){fi.indexOf(s)>-1?n[s](l):n.attr(s,l)})),o},matches:function(t,i){if(!i||!t||t.nodeType!==1)return!1;var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(e)return e.call(t,i);var o,n=t.parentNode,r=!n;return r&&(n=Kt).appendChild(t),o=~a.qsa(n,i).indexOf(t),r&&Kt.removeChild(t),o},each:function(t,i){var e,o;if(Lt(t)){for(e=0;e<t.length;e++)if(i.call(t[e],e,t[e])===!1)return t}else for(o in t)if(i.call(t[o],o,t[o])===!1)return t;return t},map:function(t,i){var e,o=[],n,r;if(Lt(t))for(n=0;n<t.length;n++)e=i(t[n],n),e!=null&&o.push(e);else for(r in t)e=i(t[r],r),e!=null&&o.push(e);return vi(o)}});a.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,i){mt["[object "+i+"]"]=i.toLowerCase()});a.fn.init.prototype=a.fn;function xi(){}function yi(t,i){if(arguments.length<2){var e=this[0];if(typeof t=="string")return e?e.style[Dt(t)]||getComputedStyle(e,"").getPropertyValue(t):void 0;if(Q(t)){if(!e)return;var o={},n=getComputedStyle(e,"");return a.each(t,function(l,h){o[h]=e.style[Dt(h)]||n.getPropertyValue(h)}),o}}var r="";if(tt(t)=="string")!i&&i!==0?this.each(function(){this.style.removeProperty(lt(t))}):r=lt(t)+":"+Jt(t,i);else for(var s in t)!t[s]&&t[s]!==0?this.each(function(){this.style.removeProperty(lt(s))}):r+=lt(s)+":"+Jt(s,t[s])+";";return this.each(function(){this.style.cssText+=";"+r})}function Mi(t){return t?D.some.call(this,function(i){return this.test(it(i))},Qt(t)):!1}function bi(t){var i=[];return t?this.each(function(e){if("className"in this){i=[];var o=it(this),n=O(this,t,e,o);n.split(/\s+/g).forEach(function(r){a(this).hasClass(r)||i.push(r)},this),i.length&&it(this,o+(o?" ":"")+i.join(" "))}}):this}function Ti(t){var i=[];return this.each(function(e){if("className"in this){if(t===void 0)return it(this,"");i=it(this),O(this,t,e,i).split(/\s+/g).forEach(function(o){i=i.replace(Qt(o)," ")}),it(this,i.trim())}})}function Ei(t){if(t)return this.each(function(e){var o=a(this),n=O(this,t,e,o.offset()),r=o.offsetParent().offset(),s={top:n.top-r.top,left:n.left-r.left};o.css("position")=="static"&&(s.position="relative"),o.css(s)});if(!this.length)return null;if(b.documentElement!==this[0]&&!q(b.documentElement,this[0]))return{top:0,left:0};var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}}function Ci(){if(this.length){var t=this[0],i,e=this.offsetParent(),o=Xt.test(e[0].nodeName)?{top:0,left:0}:e.offset();return a(t).css("position")==="fixed"?i=t.getBoundingClientRect():(i=this.offset(),o.top+=parseFloat(a(e[0]).css("border-top-width"))||0,o.left+=parseFloat(a(e[0]).css("border-left-width"))||0),{top:i.top-o.top-parseFloat(a(t).css("margin-top"))||0,left:i.left-o.left-parseFloat(a(t).css("margin-left"))||0}}}function Si(t){if(this.length){var i="scrollTop"in this[0];return t===void 0?i?this[0].scrollTop:et(this[0])?this[0].pageYOffset:this[0].defaultView.pageYOffset:this.each(i?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}}function _i(t){if(this.length){var i="scrollLeft"in this[0];return t===void 0?i?this[0].scrollLeft:et(this[0])?this[0].pageXOffset:this[0].defaultView.pageXOffset:this.each(i?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}}function $i(){return this.map(function(){for(var t=this.offsetParent||b.body;t&&!Xt.test(t.nodeName)&&a(t).css("position")=="static";)t=t.offsetParent;return t})}function zi(t,i){var e;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(e=this[0].getAttribute(t))!=null?e:void 0:this.each(function(o){if(this.nodeType===1)if(Z(t))for(var n in t)Vt(this,n,t[n]);else Vt(this,t,O(this,i,o,this.getAttribute(t)))})}function Hi(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(i){Vt(this,i)},this)})}function Li(t){var i,e=this;return t?typeof t=="object"?i=a(t).filter(function(){var o=this;return D.some.call(e,function(n){return q(n,o)})}):this.length==1?i=a(a.qsa(this[0],t)):i=this.map(function(){return a.qsa(this,t)}):i=a(),i}function Di(t,i){var e=[],o=typeof t=="object"&&a(t);return this.each(function(n,r){for(;r&&!(o?o.indexOf(r)>=0:a.matches(r,t));)r=r!==i&&!Ht(r)&&r.parentNode;r&&e.indexOf(r)<0&&e.push(r)}),a(e)}function No(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");return i>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}function Oo(t,i){var e={width:["padding-left","padding-right","border-left-width","border-right-width"],height:["padding-top","padding-bottom","border-top-width","border-bottom-width"]};return t.css("box-sizing")==="border-box"&&!No()?parseFloat(t.css(i))-parseFloat(t.css(e[i][0]))-parseFloat(t.css(e[i][1]))-parseFloat(t.css(e[i][2]))-parseFloat(t.css(e[i][3])):parseFloat(t.css(i))}function Vi(t,i){var e=t.replace(/./,function(n){return n[0].toUpperCase()}),o=this[0];return i===void 0?et(o)?o.document.documentElement["client"+e]:Ht(o)?o.documentElement["scroll"+e]:Oo(this,t):this.each(function(n){o=a(this),o.css(t,O(this,i,n,o[t]()))})}function Pi(t){return Vi.call(this,"width",t)}function Ni(t){return Vi.call(this,"height",t)}var Ao=1,dt={},Ai="onfocusin"in window,Ii={focus:"focusin",blur:"focusout"},Fi={mouseenter:"mouseover",mouseleave:"mouseout"},Io=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,Oi=function(){return!0},Pt=function(){return!1},Fo={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function ct(t){return t._zid||(t._zid=Ao++)}function Nt(t,i){if(i||!t.isDefaultPrevented){i||(i=t),a.each(Fo,function(e,o){var n=i[e];t[e]=function(){return this[o]=Oi,n&&n.apply(i,arguments)},t[o]=Pt});try{t.timeStamp||(t.timeStamp=Date.now())}catch(e){console.warn(e)}(i.defaultPrevented!==void 0?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=Oi)}return t}function Ri(t){var i=(""+t).split(".");return{e:i[0],ns:i.slice(1).sort().join(" ")}}function Ro(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function Wi(t,i,e,o){if(i=Ri(i),i.ns)var n=Ro(i.ns);return(dt[ct(t)]||[]).filter(function(r){return r&&(!i.e||r.e==i.e)&&(!i.ns||n.test(r.ns))&&(!e||ct(r.fn)===ct(e))&&(!o||r.sel==o)})}function ki(t,i){return t.del&&!Ai&&t.e in Ii||!!i}function Bi(t){return Fi[t]||Ai&&Ii[t]||t}function ji(t,i,e,o,n,r,s){var l=ct(t),h=dt[l]||(dt[l]=[]);i.split(/\s/).forEach(function(f){if(f=="ready")return a(b).ready(e);var c=Ri(f);c.fn=e,c.sel=n,c.e in Fi&&(e=function(d){var v=d.relatedTarget;if(!v||v!==this&&!q(this,v))return c.fn.apply(this,arguments)}),c.del=r;var w=r||e;c.proxy=function(d){if(d=Nt(d),!d.isImmediatePropagationStopped()){d.data=o;var v=w.apply(t,d._args==null?[d]:[d].concat(d._args));return v===!1&&(d.preventDefault(),d.stopPropagation()),v}},c.i=h.length,h.push(c),"addEventListener"in t&&t.addEventListener(Bi(c.e),c.proxy,ki(c,s))})}function gt(t,i,e,o,n){var r=ct(t);(i||"").split(/\s/).forEach(function(s){Wi(t,s,e,o).forEach(function(l){delete dt[r][l.i],"removeEventListener"in t&&t.removeEventListener(Bi(l.e),l.proxy,ki(l,n))})})}function Ui(t){var i,e={originalEvent:t};for(i in t)!Io.test(i)&&t[i]!==void 0&&(e[i]=t[i]);return Nt(e,t)}function qi(t,i){i(t);for(var e=0,o=t.childNodes.length;e<o;e++)qi(t.childNodes[e],i)}function Wo(t,i,e,o){var n,r=a.map(i,function(h){var f=[];return n=tt(h),n=="array"?(h.forEach(function(c){if(c.nodeType!==void 0)return f.push(c);if(ht(c))return f=f.concat(c.get());f=f.concat(a.fragment(c))}),f):n=="object"||h==null?h:a.fragment(h)}),s,l=t.length>1;return r.length<1?t:t.each(function(h,f){s=o?f:f.parentNode;var c=q(b.documentElement,s);r.forEach(function(w){if(l)w=w.cloneNode(!0);else if(!s)return a(w).remove();e.call(f,w),c&&qi(w,function(d){if(d.nodeName!=null&&d.nodeName.toUpperCase()==="SCRIPT"&&(!d.type||d.type==="text/javascript")&&!d.src){var v=d.ownerDocument?d.ownerDocument.defaultView:window;v.eval.call(v,d.innerHTML)}})})})}function ko(t,i){var e;return typeof t.getElementsByTagName<"u"?e=t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?e=t.querySelectorAll(i||"*"):e=[],i===void 0||i&&wi(t,i)?a.merge([t],e):e}function Bo(t){for(var i,e,o=0;(e=t[o])!==void 0;o++)e._zid&&(i=dt[e._zid])&&i.forEach(n=>{let r=n.e+"."+n.ns.split(" ").join(".");gt(e,r,n.fn,n.sel)})}function Zi(){return this.each(function(){this.nodeType===1&&Bo(ko(this)),this.parentNode!=null&&this.parentNode.removeChild(this)})}function Yi(){return this.each(function(){this.innerHTML=""})}function Xi(t){return 0 in arguments?this.each(function(i){var e=this.innerHTML;a(this).empty().append(O(this,t,i,e))}):0 in this?this[0].innerHTML:null}function Gi(){return Wo(this,arguments,function(t){this.insertBefore(t,null)},!0)}function Ki(t,i,e,o,n){var r,s,l=this;return t&&!at(t)?(a.each(t,function(h,f){l.on(h,i,e,f,n)}),l):(!at(i)&&!P(o)&&o!==!1&&(o=e,e=i,i=void 0),(o===void 0||e===!1)&&(o=e,e=void 0),o===!1&&(o=Pt),l.each(function(h,f){n&&(r=function(c){return gt(f,c.type,o),o.apply(this,arguments)}),i&&(s=function(c){var w,d=a(c.target).closest(i,f).get(0);if(d&&d!==f)return w=a.extend(Ui(c),{currentTarget:d,liveFired:f}),(r||o).apply(d,[w].concat(k.call(arguments,1)))}),ji(f,t,o,e,i,s||r)}))}function Ji(t,i,e){var o=this;return t&&!at(t)?(a.each(t,function(n,r){o.off(n,i,r)}),o):(!at(i)&&!P(e)&&e!==!1&&(e=i,i=void 0),e===!1&&(e=Pt),o.each(function(){gt(this,t,e,i)}))}var R="",vt,jo={Webkit:"webkit",Moz:"",O:"o"},Ot=b.createElement("div"),Qi=Ot.style.transitionProperty;Ot.style.transform===void 0&&a.each(jo,function(t,i){if(Ot.style[t+"TransitionProperty"]!==void 0)return R="-"+t.toLowerCase()+"-",vt=i,!1});Ot=null;function to(t){return vt?vt+t:t.toLowerCase()}a.fx={off:vt===void 0&&Qi===void 0,speeds:{_default:400,fast:200,slow:600},cssPrefix:R,transitionEnd:to("TransitionEnd"),animationEnd:to("AnimationEnd")};var Uo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,te,eo,io,oo,no,ro,so,ao,lo,X={};function qo(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}te=R+"transform";X[eo=R+"transition-property"]=X[io=R+"transition-duration"]=X[no=R+"transition-delay"]=X[oo=R+"transition-timing-function"]=X[ro=R+"animation-name"]=X[so=R+"animation-duration"]=X[lo=R+"animation-delay"]=X[ao=R+"animation-timing-function"]="";function ho(t,i,e,o,n){var r,s={},l,h="",f=this,c,w=a.fx.transitionEnd,d=!1;if(i===void 0&&(i=a.fx.speeds._default/1e3),n===void 0&&(n=0),a.fx.off&&(i=0),typeof t=="string")s[ro]=t,s[so]=i+"s",s[lo]=n+"s",s[ao]=e||"linear",w=a.fx.animationEnd;else{l=[];for(r in t)Uo.test(r)?h+=r+"("+t[r]+") ":(s[r]=t[r],l.push(qo(r)));h&&(s[te]=h,l.push(te)),i>0&&typeof t=="object"&&(s[eo]=l.join(", "),s[io]=i+"s",s[no]=n+"s",s[oo]=e||"linear")}return c=function(v){if(typeof v<"u"){if(v.target!==v.currentTarget)return;a(v.target).off(w,c)}else a(this).off(w,c);d=!0,a(this).css(X),o&&o.call(this)},i>0&&(this.on(w,c),setTimeout(function(){d||c.call(f)},(i+n)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(s),i<=0&&setTimeout(function(){f.each(function(){c.call(this)})},0),this}function co(t,i,e,o,n){return P(i)&&(o=i,e=void 0,i=void 0),P(e)&&(o=e,e=void 0),Y(i)&&(e=i.easing,o=i.complete,n=i.delay,i=i.duration),i&&(i=(typeof i=="number"?i:a.fx.speeds[i]||a.fx.speeds._default)/1e3),n&&(n=parseFloat(n)/1e3),this.anim(t,i,e,o,n)}function fo(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=gi(this.nodeName))})}function uo(){return this.css("display","none")}function ee(t,i,e,o,n){typeof i=="function"&&!n&&(n=i,i=void 0);var r={opacity:e};return o&&(r.scale=o,t.css(a.fx.cssPrefix+"transform-origin","0 0")),t.animate(r,i,null,n)}function Zo(t,i,e,o){return ee(t,i,0,e,function(){uo.call(a(this)),o&&o.call(this)})}function po(t,i){return fo.call(this),t===void 0?t=0:this.css("opacity",0),ee(this,t,1,"1,1",i)}function mo(t,i){return t===void 0?uo.call(this):Zo(this,t,"0,0",i)}function go(t,i,e){return ee(this,t,i,null,e)}function vo(t,i){var e=this.css("opacity");return e>0?this.css("opacity",0):e=1,fo.call(this).fadeTo(t,e,i)}var Yo={isPlainObject:Y,isArray:Q,isFunction:P,noop:xi},Xo={find:Li,closest:Di,css:yi,addClass:bi,hasClass:Mi,removeClass:Ti,attr:zi,removeAttr:Hi,append:Gi,remove:Zi,empty:Yi,html:Xi,width:Pi,height:Ni,scrollTop:Si,scrollLeft:_i,offset:Ei,offsetParent:$i,position:Ci,on:Ki,off:Ji,show:po,hide:mo,anim:ho,animate:co,fadeTo:go,fadeIn:vo};a.extend(Yo);a.fn.extend(Xo);var g=a;var wo={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headerToolbar:["maximize","close"],footerToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M20,14H4V10H20"></path>
      </svg>`,maximize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M4,4H20V20H4V4M6,8V18H18V8H6Z"></path>
      </svg>`,close:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12
        L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path>
      </svg>`,zoomIn:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43
        C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5
        C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5
        C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"></path>
      </svg>`,zoomOut:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5
        A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16
        C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14
        C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"></path>
      </svg>`,prev:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"></path>
      </svg>`,next:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z"></path>
      </svg>`,fullscreen:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M8.5,12.5L11,15.5L14.5,11L19,17H5M23,18V6A2,2 0 0,0 21,4H3
        A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18Z"></path>
      </svg>`,actualSize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09
        M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19
        H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91
        L13.09,9.5Z"></path>
      </svg>`,rotateLeft:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12
        C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07
        M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32
        M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13
        M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"></path>
      </svg>`,rotateRight:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91
        C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31
        L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11
        L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12
        C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10
        L15.55,5.55Z"></path>
      </svg>`},i18n:{minimize:"Minimize",maximize:"Maximize (Alt+X)",close:"Close (Q)",zoomIn:"Zoom-in (+)",zoomOut:"Zoom-out (-)",prev:"Prev (\u2190)",next:"Next (\u2192)",fullscreen:"Fullscreen (F)",actualSize:"Actual-size (Ctrl+Alt+0)",rotateLeft:"Rotate-left (Ctrl+,)",rotateRight:"Rotate-right (Ctrl+.)"},multiInstances:!0,initAnimation:!0,animationDuration:400,animationEasing:"ease-in-out",fixedModalPos:!1,zIndex:1090,dragHandle:null,callbacks:{beforeOpen:g.noop,opened:g.noop,beforeClose:g.noop,closed:g.noop,beforeChange:g.noop,changed:g.noop},index:0,progressiveLoading:!0,appendTo:"body",customButtons:{},positionFixed:!0,initModalPos:null,errorMsg:""};var ie=window.document;function xo(t,i){let e=null;return function(){let o=this,n=arguments;clearTimeout(e),e=setTimeout(function(){t.apply(o,n)},i)}}function yo(t,i,e){let o=new Image;o.onload=function(){i(o)},o.onerror=function(){e(o)},o.src=t}function Mo(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function bo(t){let i=/^.*?\/*([^/?]*)\.[a-z]+(\?.+|$)/gi;return t.replace(i,"$1")}function wt(t,i,e,o){let n=o?t.h:t.w,r=o?t.w:t.h;(r>i.h||n>i.w)&&e.addClass("is-grab"),r<=i.h&&n<=i.w&&e.removeClass("is-grab")}function At(){return!!("ontouchstart"in window||window.DocumentTouch&&ie instanceof window.DocumentTouch)}function xt(t){return/^(?:body|html)$/i.test(t.nodeName)}function yt(t,i){return i.reduce((e,o)=>e+parseFloat(t.css(o)),0)}function ot(t){return t.css("box-sizing")==="border-box"}function It(t,i,e,o,n){let r=1;return n?r=Math.min(e/i,o/t,1):r=Math.min(e/t,o/i,1),r}var Mt=g(window),N=g(ie),W="click",oe="resize",To="keydown",Eo="wheel mousewheel DOMMouseScroll",ft=At()?"touchstart":"mousedown",G=At()?"touchmove":"mousemove",K=At()?"touchend":"mouseup",p="photoviewer",S="."+p,x="."+p,H={isMoving:!1,isResizing:!1,zIndex:0};function Co(t,i,e){let o=0,n=0,r=0,s=0,l=c=>{if(c=c||window.event,t[0].focus(),g(c.target).closest(e).length)return!0;this.options.multiInstances&&t.css("z-index",++H.zIndex),o=c.type==="touchstart"?c.targetTouches[0].pageX:c.clientX,n=c.type==="touchstart"?c.targetTouches[0].pageY:c.clientY,r=parseFloat(t.css("left")),s=parseFloat(t.css("top")),t.css({left:r,top:s,right:"",bottom:""}),N.on(G+x,h).on(K+x,f)},h=c=>{if(c=c||window.event,c.preventDefault(),!H.isMoving&&!H.isResizing&&!this.isMaximized){let w=c.type==="touchmove"?c.targetTouches[0].pageX:c.clientX,d=c.type==="touchmove"?c.targetTouches[0].pageY:c.clientY,v=w-o,T=d-n;t.css({left:v+r,top:T+s})}},f=()=>{N.off(G+x,h).off(K+x,f)};g(i).on(ft+x,l)}var So=`html, body, .${p}-modal, .${p}-stage, .${p}-button, .${p}-resizable-handle`;function _o(t,i){let e=0,o=0,n=0,r=0,s=0,l=0,h=0,f=d=>{d=d||window.event,d.preventDefault();let v=i.width(),T=i.height(),u=t.width(),y=t.height();e=d.type==="touchstart"?d.targetTouches[0].pageX:d.clientX,o=d.type==="touchstart"?d.targetTouches[0].pageY:d.clientY,h=this.isRotated?(v-T)/2:0,s=this.isRotated?T-u:v-u,l=this.isRotated?v-y:T-y,H.isMoving=s>0||l>0,n=i.position().left-h,r=i.position().top+h,t.hasClass("is-grab")&&g(So).addClass("is-grabbing"),N.on(G+x,c).on(K+x,w)},c=d=>{d=d||window.event,d.preventDefault();let v=d.type==="touchmove"?d.targetTouches[0].pageX:d.clientX,T=d.type==="touchmove"?d.targetTouches[0].pageY:d.clientY,u=v-e,y=T-o,E=u+n,m=y+r;l>0?y+r>h?m=h:y+r<-l+h&&(m=-l+h):m=r,s>0?u+n>-h?E=-h:u+n<-s-h&&(E=-s-h):E=n,i.css({left:E,top:m}),g.extend(this.imageData,{left:E,top:m})},w=()=>{N.off(G+x,c).off(K+x,w),H.isMoving=!1,g(So).removeClass("is-grabbing")};t.on(ft+x,f)}var $o=`html, body, .${p}-modal, .${p}-stage, .${p}-button`;function zo(t,i,e,o){let n=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-e"></div>`),r=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-w"></div>`),s=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-s"></div>`),l=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-n"></div>`),h=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-se"></div>`),f=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-sw"></div>`),c=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-ne"></div>`),w=g(`<div class="${p}-resizable-handle ${p}-resizable-handle-nw"></div>`),d={e:n,s,se:h,n:l,w:r,nw:w,ne:c,sw:f};t.append(n,r,s,l,h,f,c,w);let v=0,T=0,u={w:0,h:0,x:0,y:0},y={w:0,h:0,x:0,y:0},E={w:0,h:0,x:0,y:0},m=0,B=0,j=0,nt="",{modalWidth:A,modalHeight:I}=o,Do=(C,M,_)=>{let $=-M+u.w>A?M+u.x:u.x+u.w-A,z=-_+u.h>I?_+u.y:u.y+u.h-I;return{e:{width:Math.max(M+u.w,A)},s:{height:Math.max(_+u.h,I)},se:{width:Math.max(M+u.w,A),height:Math.max(_+u.h,I)},w:{width:Math.max(-M+u.w,A),left:$},n:{height:Math.max(-_+u.h,I),top:z},nw:{width:Math.max(-M+u.w,A),height:Math.max(-_+u.h,I),top:z,left:$},ne:{width:Math.max(M+u.w,A),height:Math.max(-_+u.h,I),top:z},sw:{width:Math.max(-M+u.w,A),height:Math.max(_+u.h,I),left:$}}[C]},Vo=(C,M,_)=>{let $=M+u.w>A?y.w-B+M-m:A-(u.w-y.w)-B-m,z=_+u.h>I?y.h-j+_+m:I-(u.h-y.h)-j+m,L=-M+u.w>A?y.w-B-M-m:A-(u.w-y.w)-B-m,V=-_+u.h>I?y.h-j-_+m:I-(u.h-y.h)-j+m,bt=e.position().left,Tt=e.position().top,Ft=($>0?bt:Math.min(bt,0))-m,Rt=(z>0?Tt:Math.min(Tt,0))+m,Wt=(L>0?bt:Math.min(bt,0))-m,kt=(V>0?Tt:Math.min(Tt,0))+m;return{e:{left:$>=-m?($-m)/2:Math.max(Ft,$)},s:{top:z>=m?(z+m)/2:Math.max(Rt,z)},se:{top:z>=m?(z+m)/2:Math.max(Rt,z),left:$>=-m?($-m)/2:Math.max(Ft,$)},w:{left:L>=-m?(L-m)/2:Math.max(Wt,L)},n:{top:V>=m?(V+m)/2:Math.max(kt,V)},nw:{top:V>=m?(V+m)/2:Math.max(kt,V),left:L>=-m?(L-m)/2:Math.max(Wt,L)},ne:{top:V>=m?(V+m)/2:Math.max(kt,V),left:$>=-m?($-m)/2:Math.max(Ft,$)},sw:{top:z>=m?(z+m)/2:Math.max(Rt,z),left:L>=-m?(L-m)/2:Math.max(Wt,L)}}[C]},Po=(C,M)=>{M=M||window.event,M.preventDefault(),H.isResizing=!0,v=M.type==="touchstart"?M.targetTouches[0].pageX:M.clientX,T=M.type==="touchstart"?M.targetTouches[0].pageY:M.clientY,u={w:t.width()+(ot(t)?this._modalEdgeValue.horizontal:0),h:t.height()+(ot(t)?this._modalEdgeValue.vertical:0),x:t.position().left,y:t.position().top},y={w:i.width(),h:i.height(),x:i.position().left,y:i.position().top},E={w:e.width(),h:e.height(),x:e.position().left,y:e.position().top},m=this.isRotated?(E.w-E.h)/2:0,B=this.isRotated?E.h:E.w,j=this.isRotated?E.w:E.h,nt=C,g($o).css("cursor",C+"-resize"),N.on(G+x,ne).on(K+x,re)},ne=C=>{if(C=C||window.event,C.preventDefault(),!this.isMaximized){let M=C.type==="touchmove"?C.targetTouches[0].pageX:C.clientX,_=C.type==="touchmove"?C.targetTouches[0].pageY:C.clientY,$=M-v,z=_-T,L=Do(nt,$,z);t.css(L);let V=Vo(nt,$,z);e.css(V)}},re=()=>{N.off(G+x,ne).off(K+x,re);let C=i.width(),M=i.height();H.isResizing&&wt({w:B,h:j},{w:C,h:M},i),H.isResizing=!1,g($o).css("cursor","");let{originalWidth:_,originalHeight:$}=this.imageData,z=It(_,$,C,M,this.isRotated),L=_*z,V=$*z;g.extend(this.imageData,{initWidth:L,initHeight:V,initLeft:(C-L)/2,initTop:(M-V)/2})};g.each(d,function(C,M){M.on(ft+x,function(_){Po(C,_)})})}var Go=(()=>{class t{static instances=[];isOpened=!1;isMaximized=!1;isRotated=!1;rotationDegree=0;imageData={};modalData={width:null,height:null,left:null,top:null};prevIndex=null;_lastTimestamp=0;constructor(e,o){this.init(e,o)}init(e,o){this.options=g.extend(!0,{},wo,o),o&&g.isArray(o.footerToolbar)&&(this.options.footerToolbar=o.footerToolbar),o&&g.isArray(o.headerToolbar)&&(this.options.headerToolbar=o.headerToolbar),H.zIndex=H.zIndex===0?this.options.zIndex:H.zIndex,this.open(),this.images=e,this.index=this.options.index,this._loadImage(this.index),this.options.draggable&&this.draggable(this.$photoviewer,this.dragHandle,S+"-button"),this.options.movable&&this.movable(this.$stage,this.$image),this.options.resizable&&this.resizable(this.$photoviewer,this.$stage,this.$image,this.options)}_createBtns(e){let o=["minimize","maximize","close","zoomIn","zoomOut","prev","next","fullscreen","actualSize","rotateLeft","rotateRight"],n="";return g.each(e,(r,s)=>{let l=`${p}-button ${p}-button-${s}`;o.indexOf(s)>=0?n+=`<button class="${l}" title="${this.options.i18n[s]}">
          ${this.options.icons[s]}
          </button>`:this.options.customButtons[s]&&(n+=`<button class="${l}" title="${this.options.customButtons[s].title||""}">
          ${this.options.customButtons[s].text}
          </button>`)}),n}_createTitle(){return this.options.title?`<div class="${p}-title"></div>`:""}_createTemplate(){return`<div class="${p}-modal" tabindex="0" role="dialog">
        <div class="${p}-inner">
          <div class="${p}-header">
            <div class="${p}-toolbar ${p}-toolbar-header">
            ${this._createBtns(this.options.headerToolbar)}
            </div>
            ${this._createTitle()}
          </div>
          <div class="${p}-stage">
            <img class="${p}-image" src="" alt="" />
          </div>
          <div class="${p}-footer">
            <div class="${p}-toolbar ${p}-toolbar-footer">
            ${this._createBtns(this.options.footerToolbar)}
            </div>
          </div>
        </div>
      </div>`.replace(/>\s+</g,"><")}_build(){let e=this._createTemplate(),o=g(e);this.$photoviewer=o,this.$stage=o.find(S+"-stage"),this.$title=o.find(S+"-title"),this.$image=o.find(S+"-image"),this.$close=o.find(S+"-button-close"),this.$maximize=o.find(S+"-button-maximize"),this.$minimize=o.find(S+"-button-minimize"),this.$zoomIn=o.find(S+"-button-zoomIn"),this.$zoomOut=o.find(S+"-button-zoomOut"),this.$actualSize=o.find(S+"-button-actualSize"),this.$fullscreen=o.find(S+"-button-fullscreen"),this.$rotateLeft=o.find(S+"-button-rotateLeft"),this.$rotateRight=o.find(S+"-button-rotateRight"),this.$prev=o.find(S+"-button-prev"),this.$next=o.find(S+"-button-next"),this.$photoviewer.css("z-index",H.zIndex),this.options.positionFixed&&this.$photoviewer.css({position:"fixed"}),!this.options.dragHandle||this.options.dragHandle===S+"-modal"?this.dragHandle=this.$photoviewer:this.dragHandle=this.$photoviewer.find(this.options.dragHandle),g(this.options.appendTo).eq(0).append(this.$photoviewer),this._stageEdgeValue={horizontal:yt(this.$stage,["left","right","border-left-width","border-right-width"]),vertical:yt(this.$stage,["top","bottom","border-top-width","border-bottom-width"])},this._modalEdgeValue={horizontal:yt(this.$photoviewer,["padding-left","padding-right","border-left-width","border-right-width"]),vertical:yt(this.$photoviewer,["padding-top","padding-bottom","border-top-width","border-bottom-width"])},this._addEvents(),this._addCustomButtonEvents()}open(){this._triggerHook("beforeOpen",this),!this.options.multiInstances&&t.instances.length>0&&t.instances[0].close(),this._build(),this._setInitModalPos(),t.instances.push(this),this._triggerHook("opened",this)}close(){this._triggerHook("beforeClose",this),this.$photoviewer.remove(),t.instances=t.instances.filter(e=>e!==this),t.instances.length===0&&(H.zIndex=this.options.zIndex,Mt.off(oe+x)),this._triggerHook("closed",this)}_getOffsetParentData(){let e=g(this.options.appendTo)[0];return{width:this.options.positionFixed||xt(e)?Mt.width():e.clientWidth,height:this.options.positionFixed||xt(e)?Mt.height():e.clientHeight,scrollLeft:this.options.positionFixed?0:xt(e)?N.scrollLeft():e.scrollLeft,scrollTop:this.options.positionFixed?0:xt(e)?N.scrollTop():e.scrollTop}}_setModalToCenter(){let e,o,n,r,s=0,l=0;if(ot(this.$photoviewer)||(s+=this._modalEdgeValue.horizontal,l+=this._modalEdgeValue.vertical),g.isPlainObject(this.options.initModalPos))e=this.options.initModalPos.left,o=this.options.initModalPos.top,n=this.options.initModalPos.right,r=this.options.initModalPos.bottom;else{let f=this._getOffsetParentData();e=(f.width-this.options.modalWidth-s)/2+f.scrollLeft,o=(f.height-this.options.modalHeight-l)/2+f.scrollTop}let h={width:this.modalData.width||this.options.modalWidth,height:this.modalData.height||this.options.modalHeight,left:this.modalData.left||e,top:this.modalData.top||o,right:this.modalData.right||n,bottom:this.modalData.bottom||r};this.$photoviewer.css(h)}_setInitModalPos(){this.options.initMaximized?(this.maximize(),this.isOpened=!0):this._setModalToCenter(),this.$photoviewer[0].focus()}_setModalSize(){let e=this.imageData.originalWidth+this._stageEdgeValue.horizontal,o=this.imageData.originalHeight+this._stageEdgeValue.vertical,n=0,r=0;ot(this.$photoviewer)?(e+=this._modalEdgeValue.horizontal,o+=this._modalEdgeValue.vertical):(n+=this._modalEdgeValue.horizontal,r+=this._modalEdgeValue.vertical);let s=this._getOffsetParentData(),l=Math.max(this.options.gapThreshold,0)+1,h=Math.min(s.width/((e+n)*l),s.height/((o+r)*l),1),f=Math.max(e*h,this.options.modalWidth),c=Math.max(o*h,this.options.modalHeight);f=this.options.fixedModalSize?this.options.modalWidth:Math.round(f),c=this.options.fixedModalSize?this.options.modalHeight:Math.round(c);let w,d,v,T;g.isPlainObject(this.options.initModalPos)?(w=this.options.initModalPos.left,d=this.options.initModalPos.top,v=this.options.initModalPos.right,T=this.options.initModalPos.bottom):(w=(s.width-f-n)/2+s.scrollLeft,d=(s.height-c-r)/2+s.scrollTop);let u={width:f,height:c,left:w,top:d,right:v,bottom:T};this.options.initAnimation?this.$photoviewer.animate(u,this.options.animationDuration,this.options.animationEasing,()=>{this._setImageSize()}):(this.$photoviewer.css(u),this._setImageSize()),this.isOpened=!0}_setImageSize(){let e=this.$stage.width(),o=this.$stage.height(),{originalWidth:n,originalHeight:r}=this.imageData,s=It(n,r,e,o,this.isRotated),l=n*s,h=r*s;this.$image.css({width:Math.round(l),height:Math.round(h),left:(e-Math.round(l))/2,top:(o-Math.round(h))/2}),g.extend(this.imageData,{initWidth:l,initHeight:h,initLeft:(e-l)/2,initTop:(o-h)/2,width:l,height:h,left:(e-l)/2,top:(o-h)/2}),wt({w:l,h},{w:e,h:o},this.$stage,this.isRotated),this.imageLoaded||(this.$photoviewer.find(S+"-loader").remove(),this.$stage.removeClass(p+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.fadeIn(),this.imageLoaded=!0,this._triggerHook("changed",[this,this.index]))}_loadImage(e){this.imageLoaded=!1,this._triggerHook("beforeChange",[this,this.prevIndex]),this._removeErrorMsg(),this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotationDegree=0,this.$photoviewer.append(`<div class="${p}-loader"></div>`),this.$stage.addClass(p+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide();let o=this.images[e]?.src==null?"":this.images[e].src.toString();this.$image.attr("src",o);let n=this.images[e]?.title||bo(o);this.options.title&&this.$title.html(n),this.$image.attr("alt",n),yo(o,r=>{this.imageData={originalWidth:r.width,originalHeight:r.height},this.isMaximized||this.isOpened&&this.options.fixedModalPos?this._setImageSize():this._setModalSize()},()=>{this.$photoviewer.find(S+"-loader").remove(),this._triggerHook("changed",[this,e]),this._setErrorMsg()})}_setErrorMsg(){let e=g.isFunction(this.options.errorMsg)?this.options.errorMsg(this,this.index):this.options.errorMsg;e&&(this.$stage.append(`<span class="${p}-error-msg">${e}</span>`),this.$image.addClass(p+"-image-error"))}_removeErrorMsg(){this.$stage.find(S+"-error-msg").remove(),this.$image.removeClass(p+"-image-error")}jump(e){let o=Date.now();if(o-this._lastTimestamp>=this.options.animationDuration){let n=this.index+e;this.jumpTo(n),this._lastTimestamp=o}}jumpTo(e){this.prevIndex=this.index;let o=e%this.images.length;o<=0&&(o=(o+this.images.length)%this.images.length),this.index=o,this._loadImage(this.index)}_wheel(e){e.preventDefault();let o=1;e.deltaY?o=e.deltaY>0?1:-1:e.wheelDelta?o=-e.wheelDelta/120:e.detail&&(o=e.detail>0?1:-1);let n=-o*this.options.ratioThreshold,r={x:e.clientX-this.$stage.offset().left+N.scrollLeft(),y:e.clientY-this.$stage.offset().top+N.scrollTop()};this.zoom(n,r)}zoom(e,o){e=e<0?1/(1-e):1+e,e=this.$image.width()/this.imageData.originalWidth*e,!(e>this.options.maxRatio||e<this.options.minRatio)&&this.zoomTo(e,o)}zoomTo(e,o){let{originalWidth:n,originalHeight:r,width:s,height:l,left:h,top:f,initWidth:c}=this.imageData,w=this.$stage.width(),d=this.$stage.height();o===void 0&&(o={x:w/2,y:d/2});let v=n*e,T=r*e,u=o.x-(o.x-h)/s*v,y=o.y-(o.y-f)/l*T,E=this.isRotated?(v-T)/2:0,m=this.isRotated?T:v,B=this.isRotated?v:T,j=w-v,nt=d-T;m<=w?u=j/2:u=u>-E?-E:Math.max(u,j+E),B<=d?y=nt/2:y=y>E?E:Math.max(y,nt-E),Math.abs(c-v)<c*.05?this._setImageSize():(this.$image.css({width:Math.round(v),height:Math.round(T),left:Math.round(u),top:Math.round(y)}),wt({w:Math.round(m),h:Math.round(B)},{w,h:d},this.$stage)),g.extend(this.imageData,{width:v,height:T,left:u,top:y})}rotate(e){this.rotationDegree=this.rotationDegree+e,this.rotationDegree/90%2===0?this.isRotated=!1:this.isRotated=!0,this.rotateTo(this.rotationDegree)}rotateTo(e){this.$image.css({transform:"rotate("+e+"deg)"}),this._setImageSize()}maximize(){this.$photoviewer.addClass(p+"-maximized"),this.$photoviewer.css({width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),this.isMaximized=!0}exitMaximize(){this.$photoviewer.removeClass(p+"-maximized"),this._setModalToCenter(),this.isMaximized=!1}toggleMaximize(){if(this.isMaximized)this.exitMaximize();else{let e=this.$photoviewer.width(),o=this.$photoviewer.height();ot(this.$photoviewer)&&(e+=this._modalEdgeValue.horizontal,o+=this._modalEdgeValue.vertical),this.modalData={width:e,height:o,left:parseFloat(this.$photoviewer.css("left")),top:parseFloat(this.$photoviewer.css("top"))},this.maximize()}this._setImageSize(),this.$photoviewer[0].focus()}fullscreen(){Mo(this.$photoviewer[0]),this.$photoviewer[0].focus()}resize(){this.isOpened&&(this.isMaximized?this._setImageSize():this._setModalSize())}_keydown(e){if(!this.options.keyboard)return;let o=e.keyCode||e.which||e.charCode,n=e.ctrlKey||e.metaKey,r=e.altKey;switch(o){case 37:this.jump(-1);break;case 39:this.jump(1);break;case 187:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 189:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 61:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 173:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 48:n&&r&&this.zoomTo(1,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 188:n&&(e.preventDefault(),this.rotate(-90));break;case 190:n&&this.rotate(90);break;case 81:this.close();break;case 88:r&&this.toggleMaximize();break;case 70:this.fullscreen();break;default:}}_addEvents(){this.$close.on(W+x,()=>{this.close()}),this.$stage.on(Eo+x,e=>{this._wheel(e)}),this.$zoomIn.on(W+x,()=>{this.zoom(this.options.ratioThreshold*3)}),this.$zoomOut.on(W+x,()=>{this.zoom(-this.options.ratioThreshold*3)}),this.$actualSize.on(W+x,()=>{this.zoomTo(1)}),this.$prev.on(W+x,()=>{this.jump(-1)}),this.$next.on(W+x,()=>{this.jump(1)}),this.$rotateLeft.on(W+x,()=>{this.rotate(-90)}),this.$rotateRight.on(W+x,()=>{this.rotate(90)}),this.$maximize.on(W+x,()=>{this.toggleMaximize()}),this.$fullscreen.on(W+x,()=>{this.fullscreen()}),this.$photoviewer.on(To+x,e=>{this._keydown(e)}),Mt.on(oe+x,xo(()=>this.resize(),500))}_addCustomButtonEvents(){for(let e in this.options.customButtons)this.$photoviewer.find(S+"-button-"+e).on(W+x,o=>{this.options.customButtons[e].click.apply(this,[this,o])})}_triggerHook(e,o){this.options.callbacks[e]&&this.options.callbacks[e].apply(this,g.isArray(o)?o:[o])}}return t})();g.extend(Go.prototype,{draggable:Co},{movable:_o},{resizable:zo});var Ho=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=ue({type:t})}static{this.\u0275inj=ce({})}}return t})();function Jo(t,i){if(t&1&&(F(0,"mat-error",5),st(1),U()),t&2){let e=pt();J(),ve(e.errorMessage)}}function Qo(t,i){if(t&1&&(F(0,"div",9),Ct(1,"mat-spinner",11),F(2,"p"),st(3),U()()),t&2){let e=pt().$implicit;J(3),we("Carregando ",e.text,"...")}}function tn(t,i){if(t&1&&(F(0,"div",10),Ct(1,"div",12),F(2,"div",13)(3,"a",14)(4,"span",15),st(5,"Monitore todos os mercados no TradingView"),U()()()()),t&2){let e=pt().$implicit;Et("id","widget-"+e.id)}}function en(t,i){if(t&1&&(F(0,"mat-grid-tile",8),jt(1,Qo,4,1,"div",9)(2,tn,6,1,"div",10),U()),t&2){let e=pt();Ut("background","#FFFFFF"),J(),qt(e.loadingWidgets?1:2)}}var Lo=(()=>{class t{constructor(){this.dialog=ut(Ge),this.http=ut(be),this.renderer=ut(de),this.snackBar=ut(Ke),this.apiUserPatrimonioPrefix="http://localhost:8080/api/patrimonios/usuario/",this.userId=1,this.destroy$=new se,this.userTickets=[],this.selectedTicker=null,this.currentTheme="dark",this.currentLang="br",this.loadingWidgets=!1,this.errorMessage=null,this.injectedScripts=[],this.tiles=[{id:"symbol-info",text:"Informa\xE7\xF5es do S\xEDmbolo",cols:1,rows:1,type:"symbol-info",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js"},{id:"technical-analysis",text:"An\xE1lise T\xE9cnica",cols:1,rows:1,type:"technical-analysis",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js"},{id:"financials",text:"Dados Financeiros",cols:1,rows:1,type:"financials",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-financials.js"},{id:"symbol-profile",text:"Perfil do S\xEDmbolo",cols:1,rows:1,type:"symbol-profile",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js"}],this.fixedCols=2,this.fixedRowHeight=350,this.ratioGutter="1",this.fitListHeight="auto"}ngOnInit(){this.loadUserTickets()}ngOnDestroy(){this.destroyTradingViewWidgets(),this.destroy$.next(),this.destroy$.complete()}loadUserTickets(){this.errorMessage=null;let e=`${this.apiUserPatrimonioPrefix}${this.userId}/patrimoniocompleto`;this.http.get(e).pipe(he(this.destroy$),le(o=>(console.error("Erro ao carregar tickets do usu\xE1rio:",o),this.errorMessage="N\xE3o foi poss\xEDvel carregar os tickets do usu\xE1rio. Tente novamente mais tarde.",this.snackBar.open(this.errorMessage,"Fechar",{duration:5e3}),ae([])))).subscribe({next:o=>{this.userTickets=o.map(n=>({name:n.descricao,symbol:n.ticker})),this.userTickets.length>0?this.selectedTicker||(this.selectedTicker=this.userTickets[0].symbol):(this.errorMessage="Nenhum ativo encontrado para o usu\xE1rio.",this.snackBar.open(this.errorMessage,"Fechar",{duration:5e3}))}})}onTickerSelected(){this.errorMessage=null,this.loadingWidgets=!1,console.log("Ticker selecionado:",this.selectedTicker)}loadTradingViewWidgets(){if(!this.selectedTicker){this.errorMessage="Por favor, selecione um ativo para visualizar os widgets.",this.snackBar.open(this.errorMessage,"Fechar",{duration:5e3}),console.warn("Bot\xE3o Buscar clicado sem ativo selecionado.");return}this.errorMessage=null,this.loadingWidgets=!0,console.log(">>> loadTradingViewWidgets: Definindo loadingWidgets para TRUE. Iniciando carregamento."),this.destroyTradingViewWidgets();let e=this.selectedTicker;e&&(e.match(/^[A-Z]{4}\d{1,2}$/)||e.match(/^[A-Z]{6}\d{1,2}$/))&&(e.startsWith("BMFBOVESPA:")||(e=`BMFBOVESPA:${e}`)),console.log(`[loadTradingViewWidgets] Ticker final para o TradingView: ${e}`);let o={symbol:e,colorTheme:this.currentTheme,isTransparent:!1,locale:this.currentLang,width:"100%",height:"100%"},n=[{id:"symbol-info",text:"Informa\xE7\xF5es do S\xEDmbolo",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",options:rt({},o)},{id:"technical-analysis",text:"An\xE1lise T\xE9cnica",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",options:Bt(rt({},o),{displayMode:"single",interval:"1m",disableInterval:!1,showIntervalTabs:!0})},{id:"financials",text:"Dados Financeiros",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-financials.js",options:Bt(rt({},o),{displayMode:"regular"})},{id:"symbol-profile",text:"Perfil do S\xEDmbolo",scriptSrc:"https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js",options:rt({},o)}],r=0,s=n.length,l=!1;setTimeout(()=>{n.forEach(h=>{let f="widget-"+h.id,c=document.getElementById(f);if(c){let w=c.querySelector(".tradingview-widget-container__widget");if(w){this.renderer.setProperty(w,"innerHTML",""),console.log(`[Widget Config] ${h.text} (${h.id}):`,JSON.stringify(h.options,null,2));let d=JSON.stringify(h.options),v=`<script type="text/javascript" src="${h.scriptSrc}" async="true">${d}<\/script>`;console.log(`[Script HTML] ${h.text} (${h.id}):`,v);let T=this.renderer.createElement("div");this.renderer.setProperty(T,"innerHTML",v);let u=T.firstChild;if(u){let y=this.renderer.createElement("script");this.renderer.setAttribute(y,"type","text/javascript"),this.renderer.setAttribute(y,"src",u.src),this.renderer.setAttribute(y,"async","true"),this.renderer.setProperty(y,"textContent",u.textContent),this.injectedScripts.push(y),y.onload=()=>{r++,console.log(`Script ${h.id} carregado. Total: ${r}/${s}`),this.checkLoadingCompletion(r,s,l)},y.onerror=E=>{console.error(`Falha ao carregar o script do widget: ${h.id}`,E),l=!0,r++,this.checkLoadingCompletion(r,s,l)},this.renderer.appendChild(w,y)}else console.error(`Erro: Falha ao criar elemento script para ${h.id}.`),l=!0,r++,this.checkLoadingCompletion(r,s,l)}else console.error(`Erro: Container interno do widget ('tradingview-widget-container__widget') n\xE3o encontrado para ${f}.`),l=!0,r++,this.checkLoadingCompletion(r,s,l)}else console.error(`Erro: Container principal com ID ${f} n\xE3o encontrado. Isso pode indicar um problema de timing ou de estrutura HTML.`),l=!0,r++,this.checkLoadingCompletion(r,s,l)})},50),setTimeout(()=>{this.loadingWidgets&&(this.loadingWidgets=!1,this.errorMessage=this.errorMessage||"Tempo limite para carregamento dos widgets. Verifique sua conex\xE3o ou o console para mais detalhes.",this.snackBar.open(this.errorMessage,"Fechar",{duration:8e3}),console.error("Alerta: Carregamento de widgets excedeu o tempo limite."))},15e3)}checkLoadingCompletion(e,o,n){e===o&&(console.log(">>> checkLoadingCompletion: Todos os scripts processados. Definindo loadingWidgets para FALSE."),this.loadingWidgets=!1,n?(this.errorMessage=this.errorMessage||"Alguns widgets n\xE3o puderam ser carregados. Verifique o console para mais detalhes.",this.snackBar.open(this.errorMessage,"Fechar",{duration:8e3})):this.errorMessage=null)}destroyTradingViewWidgets(){console.log("Destruindo widgets TradingView existentes..."),this.injectedScripts.forEach(e=>{e.parentNode&&this.renderer.removeChild(e.parentNode,e)}),this.injectedScripts=[],this.tiles.forEach(e=>{let o="widget-"+e.id,n=document.getElementById(o);if(n){let r=n.querySelector(".tradingview-widget-container__widget");if(r)for(;r.firstChild;)this.renderer.removeChild(r,r.firstChild)}}),console.log("Widgets TradingView destru\xEDdos.")}getWidgetOptions(e){let o=this.selectedTicker;return o&&(o.includes("/")||(o.match(/^[A-Z]{4}\d{1,2}$/)||o.match(/^[A-Z]{6}\d{1,2}$/))&&(o.startsWith("BMFBOVESPA:")||(o=`BMFBOVESPA:${o}`))),{symbol:o,colorTheme:this.currentTheme,locale:this.currentLang}}addTag(e){return{name:e,tag:!0}}addTagPromise(e){return new Promise(o=>{setTimeout(()=>{o({id:5,name:e,valid:!0})},1e3)})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["app-media-gallery"]],decls:15,vars:7,consts:[["title","Estat\xEDsticas",1,"bg-dark","text-light"],[1,"mt-4"],["appearance","outline",1,"w-full","mb-2"],["bindLabel","name","bindValue","symbol",3,"ngModelChange","change","items","multiple","ngModel"],["matSuffix","","href","javascript:void(0);","mat-mini-fab","",3,"click"],[1,"mb-4"],["role","list","cols","2","rowHeight","fit",3,"gutterSize"],["role","listitem",3,"background"],["role","listitem"],[1,"grid-tile-placeholder"],[1,"tradingview-widget-container",3,"id"],["diameter","50"],[1,"tradingview-widget-container__widget"],[1,"tradingview-widget-copyright"],["href","https://br.tradingview.com/","rel","noopener nofollow","target","_blank"],[1,"blue-text"]],template:function(o,n){o&1&&(Ct(0,"page-header",0),F(1,"mat-card",1)(2,"mat-card-content")(3,"section")(4,"mat-form-field",2)(5,"mat-label"),st(6,"Selecione o ativo"),U(),F(7,"mtx-select",3),Me("ngModelChange",function(s){return ye(n.selectedTicker,s)||(n.selectedTicker=s),s}),St("change",function(){return n.onTickerSelected()}),U(),F(8,"a",4),St("click",function(){return n.loadTradingViewWidgets()}),F(9,"mat-icon"),st(10,"search"),U()()(),jt(11,Jo,2,1,"mat-error",5),F(12,"mat-grid-list",6),me(13,en,3,3,"mat-grid-tile",7,pe),U()()()()),o&2&&(J(7),Et("items",n.userTickets)("multiple",!1),xe("ngModel",n.selectedTicker),J(4),qt(n.errorMessage?11:-1),J(),Ut("height",n.fitListHeight),Et("gutterSize",n.ratioGutter),J(),ge(n.tiles))},dependencies:[ii,ei,ti,Te,Ho,ke,_e,Ce,Se,ri,ni,Pe,Ve,He,Le,De,Ae,Ne,Oe,We,Re,Xe,Ye,Qe,oi,Ze,ze,$e,Ee,Ie,Be,Je,Ue,qe,je,Fe],styles:["mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:16px;color:var(--text-secondary)}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:8px;text-transform:uppercase;vertical-align:middle}mat-grid-tile[_ngcontent-%COMP%]{position:relative;overflow:hidden}.grid-tile-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;text-align:center;color:#0009;background-color:#ffffffe6;position:absolute;inset:0;z-index:10;border-radius:4px}.grid-tile-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:.9em}.tradingview-widget-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center;position:relative;z-index:1}.tradingview-widget-container__widget[_ngcontent-%COMP%]{flex-grow:1;width:100%;height:100%}.tradingview-widget-copyright[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:5px;font-size:.7em;color:#888}mat-error[_ngcontent-%COMP%]{color:#f44336;font-weight:700;margin-bottom:1rem}"]})}}return t})();var ca=[{path:"gallery",component:Lo}];export{ca as routes};
