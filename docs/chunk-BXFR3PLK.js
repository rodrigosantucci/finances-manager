import{c as W,d as X}from"./chunk-PDKMJN2Z.js";import{a as K,b as Q}from"./chunk-QFYEMHGI.js";import{Bb as T,Cb as O,Eb as I,Gb as u,Ja as F,Jb as V,Ka as y,Kb as D,La as x,Na as w,Oa as E,Pa as P,Qb as G,Ua as B,Ub as R,Vb as q,_b as H,ac as L,bc as j,cc as A,e as C,ec as U,gc as z,h as S,ic as J,r as v,s as _,ub as k,vb as N}from"./chunk-BL6LWGXP.js";import{Eb as p,Gc as M,Hc as b,Lb as s,Sb as f,Wb as t,Xb as e,Yb as c,dc as g,ga as o,jb as n,rc as a,sc as h,xb as d}from"./chunk-ZR6WDTF5.js";import"./chunk-4X36HX5K.js";function Y(i,Z){i&1&&(t(0,"mat-error"),a(1,"Informe um e-mail v\xE1lido"),e())}var bt=(()=>{class i{constructor(){this.fb=o(L),this.http=o(C),this.snackBar=o(K),this.router=o(v),this.translate=o(U),this.isSubmitting=!1,this.form=this.fb.nonNullable.group({email:["",[u.required,u.email]]})}get email(){return this.form.get("email")}onSubmit(){if(this.form.invalid)return;this.isSubmitting=!0;let l={email:this.email.value};this.http.post("/api/usuarios/resetar-senha",l).subscribe({next:()=>{this.isSubmitting=!1,this.snackBar.open(this.translate.instant("forgot.messages.reset_instructions_sent"),this.translate.instant("close"),{duration:5e3}),this.router.navigateByUrl("/auth/login")},error:()=>{this.isSubmitting=!1,this.snackBar.open(this.translate.instant("forgot.errors.reset_email_failed"),this.translate.instant("close"),{duration:5e3})}})}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275cmp=d({type:i,selectors:[["app-forgot-password"]],decls:18,vars:6,consts:[[1,"d-flex","w-full","h-full","justify-center","align-items-center"],[1,"m-auto",2,"max-width","420px"],[1,"m-b-16"],[1,"text-center"],[1,"form-field-full",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","email","formControlName","email","required",""],["mat-flat-button","","color","primary","type","submit",1,"w-full","m-y-16",3,"disabled"],["routerLink","/auth/login"]],template:function(m,r){m&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title",3),a(4),M(5,"translate"),e()(),t(6,"mat-card-content")(7,"form",4),g("ngSubmit",function(){return r.onSubmit()}),t(8,"mat-form-field",5)(9,"mat-label"),a(10,"Email"),e(),c(11,"input",6),p(12,Y,2,0,"mat-error"),e(),t(13,"button",7),a(14," Enviar instru\xE7\xF5es "),e(),t(15,"div",3)(16,"a",8),a(17,"Voltar ao login"),e()()()()()()),m&2&&(n(4),h(b(5,4,"forgot.title")),n(3),s("formGroup",r.form),n(5),f(r.email.invalid&&r.email.touched?12:-1),n(),s("disabled",r.form.invalid||r.isSubmitting))},dependencies:[j,G,I,V,D,H,A,R,q,_,E,F,x,w,y,O,T,k,N,X,W,B,P,S,Q,J,z],styles:[".m-auto[_ngcontent-%COMP%]{margin:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.w-full[_ngcontent-%COMP%]{width:100%}.h-full[_ngcontent-%COMP%]{height:100%}.m-b-16[_ngcontent-%COMP%]{margin-bottom:16px}.m-y-16[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}"]})}}return i})();export{bt as ForgotPasswordComponent};
